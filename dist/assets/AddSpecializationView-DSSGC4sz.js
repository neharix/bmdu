import{Q as V,U as $,V as A,s as y,W as B,g as l,h as i,e,w as u,u as r,F as b,x as C,b as n,n as c,t as o,A as v,y as E,j as q}from"./index-CxU83Qru.js";import{_ as N}from"./TheBreadcrumb-DOlKxSwc.js";import{F as m,a as D}from"./vee-validate-9c6OnnXl.js";import{c as O,a as h,b as x}from"./index.esm-CwhLbS5k.js";const T={class:"w-full rounded-lg shadow-lg p-4 bg-white dark:bg-[#171131ef]"},G={class:"grid lg:grid-cols-3 md:grid-cols-3 sm:grid-cols-1 gap-4"},K={class:"lg:col-span-2 md:col-span-2"},L={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},M={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},P={class:"grid lg:grid-cols-2 md:grid-cols-2 sm:grid-cols-1 gap-4"},Q=["value"],R={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},U=["value"],W={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},I={class:"flex flex-wrap justify-center md:justify-end lg:justify-end"},J=["disabled"],X={key:0,class:"text-center text-red-500 mt-3 mb-0 text-sm select-none"},te={__name:"AddSpecializationView",setup(Y){const k=V(),g=$(),f=A(),{classificators:_}=y(g),{degrees:w}=y(f),S=O().shape({name:h().trim().required("Hünariň ady hökman girizilmeli"),abbreviation:h().trim().required("Hünäriň gysgaltmasy hökman girizilmeli"),classificator:x(),degree:x().required("Hünär derejesini saýlaň").notOneOf([0],"Hünär derejesi hökman saýlanylmaly")});function z(p,{setErrors:a}){const{name:s,abbreviation:d,classificator:t,degree:j}=p;return k.create({name:s,abbreviation:d,classificator:t,degree:j}).then(()=>{C.push("/specializations")}).catch(F=>a({apiError:F}))}B(()=>{f.getAll(),g.getAll()});const H=[{path:"/specializations",name:"Hünärler"},{path:"/specializations/add",name:"Goşmak"}];return(p,a)=>(n(),l(b,null,[i(N,{paths:H}),e("div",T,[a[4]||(a[4]=e("h3",{class:"text-xl font-bold mx-2 select-none"},"Täze hünäri hasaba almak",-1)),i(r(D),{"initial-values":{classificator:0,degree:0},onSubmit:z,"validation-schema":r(S),class:"space-y-4 my-4"},{default:u(({errors:s,isSubmitting:d})=>[e("div",G,[e("div",K,[i(r(m),{name:"name",type:"text",id:"name",class:c(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":s.name}]),placeholder:"Hünäriň ady"},null,8,["class"]),e("div",L,o(s.name),1)]),e("div",null,[i(r(m),{name:"abbreviation",type:"text",id:"abbreviation",class:c(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":s.abbreviation}]),placeholder:"Hünäriň gysgaltmasy"},null,8,["class"]),e("div",M,o(s.abbreviation),1)])]),e("div",P,[e("div",null,[a[1]||(a[1]=e("label",{for:"classificator",class:"block mb-1 select-none"},"Klassifikatory",-1)),i(r(m),{as:"select",name:"classificator",id:"classificator",class:"w-full border border-gray-300 dark:border-gray-700 rounded-md p-2 focus:outline-none"},{default:u(()=>[a[0]||(a[0]=e("option",{value:0,class:"text-gray-600 dark:bg-[#171131ef] dark:text-white"},"Saýlanmadyk",-1)),(n(!0),l(b,null,v(r(_),t=>(n(),l("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:t.id},o(t.name),9,Q))),256))]),_:1}),e("div",R,o(s.classificator),1)]),e("div",null,[a[3]||(a[3]=e("label",{for:"degree",class:"block mb-1"},"Hünär derejesi",-1)),i(r(m),{as:"select",name:"degree",id:"degree",class:"w-full border border-gray-300 dark:border-gray-700 rounded-md p-2 focus:outline-none"},{default:u(()=>[a[2]||(a[2]=e("option",{value:0,class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",disabled:""},"Saýlanmadyk",-1)),(n(!0),l(b,null,v(r(w),t=>(n(),l("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:t.id},o(t.name)+" ("+o(t.duration)+" ýyl) ",9,U))),256))]),_:1}),e("div",W,o(s.degree),1)])]),e("div",I,[e("button",{disabled:d,class:"flex w-50 px-4 py-2 my-2 justify-center rounded-lg border-none dark:border-violet-500/50 border-1 bg-gradient-to-r from-blue-400 to-blue-500 dark:from-violet-600 dark:to-violet-500 text-white hover:shadow-lg hover:shadow-blue-300/50 hover:ease-in ease-out duration-200 dark:hover:shadow-violet-500/50 select-none"},[i(E,{class:c({hidden:!d})},null,8,["class"]),e("span",{class:c({hidden:d})},"Hasaba al",2)],8,J)]),s.apiError?(n(),l("div",X,o(s.apiError),1)):q("",!0)]),_:1},8,["validation-schema"])])],64))}};export{te as default};
