import{D as j,r as u,o as A,f as k,h as t,d as e,w as F,g as r,F as E,J as N,z as U,b as f,n as d,t as n,x as $,j as q}from"./index-DDb-NJry.js";import{_ as B}from"./TheBreadcrumb-mry8BU5Z.js";import{F as m,a as C}from"./vee-validate-C-hVl81Z.js";import{c as D,a as c}from"./index.esm-CwhLbS5k.js";const H={class:"w-full rounded-lg shadow-lg p-4 bg-white dark:bg-[#171131ef]"},M={class:"grid lg:grid-cols-3 md:grid-cols-3 sm:grid-cols-1 gap-4"},P={class:"lg:col-span-2 md:col-span-2 lg:col-span-1"},R={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},G={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},I={class:"grid lg:grid-cols-2 md:grid-cols-2 sm:grid-cols-1 gap-4"},J={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},L={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},O={class:"flex flex-wrap justify-center md:justify-end lg:justify-end"},T=["disabled"],W={key:0,class:"text-center text-red-500 mt-3 mb-0 text-sm select-none"},_=8,ee={__name:"EditHighSchoolView",setup(K){const v=N(),l=j(),h=u(""),g=u(""),p=u(""),b=u(""),x=D().shape({high_school_name:c().trim().required("Ýokary okuw mekdebiniň ady hökman girizilmeli"),abbreviation:c().trim().required("Ýokary okuw mekdebiniň gysgaltmasy hökman girizilmeli"),username:c().trim().lowercase().required("Ulanyjy ady hökmany şekilde girizilmeli"),password:c().required("Açar sözi hökmany şekilde girizilmeli").min(_,`Açar sözi ${_} simwoldan az bolmaly däldir`)});function w(y,{setErrors:a}){const{high_school_name:o,abbreviation:i,username:s,password:S}=y;return console.log(y),l.put(v.params.id,{high_school_name:o,abbreviation:i,username:s,password:S}).then(()=>{l.getAllAdditional(),U.push("/high-schools")}).catch(z=>a({apiError:z}))}const V=[{path:"/high-schools",name:"Ýokary okuw mekdepleri"},{path:"/high-schools/edit",name:"Üýtgetmek",current:!0}];return A(()=>{l.get(v.params.id).then(()=>{h.value=l.highSchool.name,g.value=l.highSchool.abbreviation,p.value=l.highSchool.manager.user.username,b.value=l.highSchool.manager.password})}),(y,a)=>(f(),k(E,null,[t(B,{paths:V}),e("div",H,[a[4]||(a[4]=e("h3",{class:"text-xl font-bold mx-2 select-none"},"Ýokary okuw mekdebini üýtgetmek",-1)),t(r(C),{onSubmit:w,"validation-schema":r(x),class:"space-y-4 my-4"},{default:F(({errors:o,isSubmitting:i})=>[e("div",M,[e("div",P,[t(r(m),{name:"high_school_name",type:"text",id:"high_school_name",modelValue:h.value,"onUpdate:modelValue":a[0]||(a[0]=s=>h.value=s),class:d(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":o.name}]),placeholder:"Ýokary okuw mekdebiniň ady"},null,8,["modelValue","class"]),e("div",R,n(o.name),1)]),e("div",null,[t(r(m),{name:"abbreviation",type:"text",id:"abbreviation",modelValue:g.value,"onUpdate:modelValue":a[1]||(a[1]=s=>g.value=s),class:d(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":o.abbreviation}]),placeholder:"Ýokary okuw mekdebiniň gysgaltmasy"},null,8,["modelValue","class"]),e("div",G,n(o.abbreviation),1)])]),e("div",I,[e("div",null,[t(r(m),{name:"username",type:"text",id:"username",modelValue:p.value,"onUpdate:modelValue":a[2]||(a[2]=s=>p.value=s),class:d(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":o.username}]),placeholder:"Ulanyjy ady"},null,8,["modelValue","class"]),e("div",J,n(o.username),1)]),e("div",null,[t(r(m),{name:"password",type:"text",id:"password",modelValue:b.value,"onUpdate:modelValue":a[3]||(a[3]=s=>b.value=s),class:d(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":o.password}]),placeholder:"Açar sözi"},null,8,["modelValue","class"]),e("div",L,n(o.password),1)])]),e("div",O,[e("button",{disabled:i,class:"flex w-50 px-4 py-2 my-2 justify-center rounded-lg border-none dark:border-violet-500/50 border-1 bg-gradient-to-r from-blue-400 to-blue-500 dark:from-violet-600 dark:to-violet-500 text-white hover:shadow-lg hover:shadow-blue-300/50 hover:ease-in ease-out duration-200 dark:hover:shadow-violet-500/50"},[t($,{class:d({hidden:!i})},null,8,["class"]),e("span",{class:d({hidden:i})},"Üýtget",2)],8,T)]),o.apiError?(f(),k("div",W,n(o.apiError),1)):q("",!0)]),_:1},8,["validation-schema"])])],64))}};export{ee as default};
