import{S as U,W as q,X as A,s as z,r as u,o as D,f as n,h as r,d as a,w as y,g as l,F as x,J as O,z as R,b as d,n as m,t as o,B as V,x as J,j as K}from"./index-BRQ0kC1p.js";import{_ as L}from"./TheBreadcrumb-DV50R3gA.js";import{F as g,a as M}from"./vee-validate-DUB4Ix2r.js";import{c as P,a as S,b as H}from"./index.esm-CwhLbS5k.js";const T={class:"w-full rounded-lg shadow-lg p-4 bg-white dark:bg-[#171131ef]"},W={class:"grid lg:grid-cols-3 md:grid-cols-3 sm:grid-cols-1 gap-4"},X={class:"lg:col-span-2 md:col-span-2 lg:col-span-1"},G={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},I={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},Q={class:"grid lg:grid-cols-2 md:grid-cols-2 sm:grid-cols-1 gap-4"},Y=["value"],Z={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},ee=["value"],ae={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},se={class:"flex flex-wrap justify-center md:justify-end lg:justify-end"},te=["disabled"],le={key:0,class:"text-center text-red-500 mt-3 mb-0 text-sm select-none"},ce={__name:"EditSpecializationView",setup(oe){const i=U(),k=q(),h=A(),{classificators:j}=z(k),{degrees:C}=z(h),b=u(""),f=u(""),p=u(0),v=u(0),_=O(),E=P().shape({name:S().trim().required("Hünariň ady hökman girizilmeli"),abbreviation:S().trim().required("Hünäriň gysgaltmasy hökman girizilmeli"),classificator:H(),degree:H().required("Hünär derejesini saýlaň").notOneOf([0],"Hünär derejesi hökman saýlanylmaly")});function F(w,{setErrors:e}){const{name:t,abbreviation:c,classificator:s,degree:B}=w;return i.put(_.params.id,{name:t,abbreviation:c,classificator:s,degree:B}).then(()=>{R.go(-1)}).catch(N=>e({apiError:N}))}D(()=>{i.get(_.params.id).then(()=>{b.value=i.specialization.name,f.value=i.specialization.abbreviation,i.specialization.classificator&&(p.value=i.specialization.classificator),v.value=i.specialization.degree}),h.getAll(),k.getAll()});const $=[{path:"/specializations",name:"Hünärler"},{path:"/specializations/edit",name:"Üýtgetmek",current:!0}];return(w,e)=>(d(),n(x,null,[r(L,{paths:$}),a("div",T,[e[7]||(e[7]=a("h3",{class:"text-xl font-bold mx-2 select-none"},"Hünäri üýtgetmek",-1)),r(l(M),{"initial-values":{classificator:0,degree:0},onSubmit:F,"validation-schema":l(E),class:"space-y-4 my-4"},{default:y(({errors:t,isSubmitting:c})=>[a("div",W,[a("div",X,[r(l(g),{name:"name",type:"text",id:"name",modelValue:b.value,"onUpdate:modelValue":e[0]||(e[0]=s=>b.value=s),class:m(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":t.name}]),placeholder:"Hünäriň ady"},null,8,["modelValue","class"]),a("div",G,o(t.name),1)]),a("div",null,[r(l(g),{name:"abbreviation",type:"text",id:"abbreviation",modelValue:f.value,"onUpdate:modelValue":e[1]||(e[1]=s=>f.value=s),class:m(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":t.abbreviation}]),placeholder:"Hünäriň gysgaltmasy"},null,8,["modelValue","class"]),a("div",I,o(t.abbreviation),1)])]),a("div",Q,[a("div",null,[e[5]||(e[5]=a("label",{for:"classificator",class:"block mb-1 select-none"},"Klassifikatory",-1)),r(l(g),{as:"select",name:"classificator",id:"classificator",class:"w-full border border-gray-300 dark:border-gray-700 rounded-md p-2 focus:outline-none select-none",modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=s=>p.value=s)},{default:y(()=>[e[4]||(e[4]=a("option",{value:0,class:"text-gray-600 dark:bg-[#171131ef] dark:text-white"},"Saýlanmadyk",-1)),(d(!0),n(x,null,V(l(j),s=>(d(),n("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:s.id},o(s.name),9,Y))),256))]),_:1},8,["modelValue"]),a("div",Z,o(t.classificator),1)]),a("div",null,[e[6]||(e[6]=a("label",{for:"degree",class:"block mb-1 select-none"},"Hünär derejesi",-1)),r(l(g),{as:"select",name:"degree",id:"degree",class:"w-full border border-gray-300 dark:border-gray-700 rounded-md p-2 focus:outline-none select-none",modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=s=>v.value=s)},{default:y(()=>[(d(!0),n(x,null,V(l(C),s=>(d(),n("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:s.id},o(s.name)+" ("+o(s.duration)+" ýyl) ",9,ee))),256))]),_:1},8,["modelValue"]),a("div",ae,o(t.degree),1)])]),a("div",se,[a("button",{disabled:c,class:"flex w-50 px-4 py-2 my-2 justify-center rounded-lg border-none dark:border-violet-500/50 border-1 bg-gradient-to-r from-blue-400 to-blue-500 dark:from-violet-600 dark:to-violet-500 text-white hover:shadow-lg hover:shadow-blue-300/50 hover:ease-in ease-out duration-200 dark:hover:shadow-violet-500/50 select-none"},[r(J,{class:m({hidden:!c})},null,8,["class"]),a("span",{class:m({hidden:c})},"Hasaba al",2)],8,te)]),t.apiError?(d(),n("div",le,o(t.apiError),1)):K("",!0)]),_:1},8,["validation-schema"])])],64))}};export{ce as default};
