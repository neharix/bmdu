import{C as me,a1 as ge,a2 as ye,ag as pe,W as be,s as v,r,q as fe,a0 as ve,A as G,f as u,h as o,d as l,w as p,g as s,F as c,G as ce,b as m,n as g,t as i,E as w,j as R,y as ke}from"./index-DtGnqybP.js";import{_ as xe}from"./TheBreadcrumb-CRCqceaG.js";import{F as d,a as we}from"./vee-validate-DJeF-XbW.js";import{c as _e,a as y,d as W,b as _}from"./index.esm-CwhLbS5k.js";const Ve={class:"w-full rounded-lg shadow-lg p-4 bg-white dark:bg-[#171131ef]"},he={class:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-2"},ze={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},Se={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},Ue={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},Te=["value"],qe={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},De=["value"],Fe={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},Ne={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},Ae={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},Be={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},Pe=["value"],Ee={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},He=["value"],Me={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},Ce={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},$e={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},je={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},Ge={key:0},Re={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},We={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},Je={class:"flex flex-wrap justify-center md:justify-end lg:justify-end"},Oe=["disabled"],Le={key:0,class:"text-center text-red-500 mt-3 mb-0 text-sm select-none"},Ze={__name:"EditStudentView",setup(Ie){const H=ce(),V=me(),M=ge(),C=ye(),$=pe(),j=be(),{student:n}=v(V),{nationalizations:J}=v(M),{countries:O}=v(C),{regions:L}=v($),{highSchoolSpecializations:I}=v(j),h=r(""),z=r(null),S=r(null),U=r(null),T=r(null),b=r(null),q=r(null),D=r(null),F=r(null),N=r(null),A=r("");r(1);const B=r(""),P=r(""),k=r(""),E=r(""),K=_e().shape({full_name:y().trim().required("Talybyň F.A.Aa-sy hökman girizilmeli").max(400,"400 simwoldan köp girizmek mümkin däl"),birth_date:W().max(new Date,"Geljekki wagt görkezilip bilinmez"),gender:y().required("Jynsy hökmän girizmeli"),nationality:_().required("Milleti hökmän girizmeli"),country:_().required("Ýurdy hökmän girizmeli"),registered_place:y().trim().required("Ýazgyda duran salgysy hökman girizilmeli"),passport:y().trim().required("Passport maglumatlary hökman girizilmeli").max(20,"20 simwoldan köp girizmek mümkin däl"),phone_number:y().trim().required("Telefon belgisi hökman girizilmeli").max(20,"20 simwoldan köp girizmek mümkin däl"),region:_().required("Welaýaty hökmän girizmeli"),specialization:_().required("Hünäri hökmän girizmeli"),admission_date:W().max(new Date,"Geljekki wagt görkezilip bilinmez"),family_status:y().required("Maşgala ýagdaýy hökmän girizmeli"),payment_type:y().required("Töleg görnüşi hökmän girizmeli"),military_service:y().trim().max(20,"20 simwoldan köp girizmek mümkin däl"),label:y().trim()});function Q(x,{setErrors:e}){const{full_name:t,birth_date:f,gender:a,nationality:Y,country:Z,registered_place:ee,passport:le,phone_number:ae,region:te,specialization:se,admission_date:ie,family_status:ne,payment_type:oe,military_service:re,label:de}=x;return V.put(H.params.id,{full_name:t,birth_date:f,gender:a,nationality:Y,country:Z,registered_place:ee,passport:le,phone_number:ae,region:te,specialization:se,admission_date:ie,family_status:ne,payment_type:oe,military_service:re,label:de}).then(()=>{G.go(-1)}).catch(ue=>e({apiError:ue}))}fe(b,x=>{x==="F"&&(k.value="")}),ve(()=>{M.getAll(),C.getAll(),$.getAll(),V.get(H.params.id).then(()=>{n.value.active?(j.getHighSchoolSpecializations(n.value.high_school),h.value=n.value.full_name,z.value=n.value.nationality,S.value=n.value.country,U.value=n.value.region,A.value=n.value.registered_place,B.value=n.value.phone_number,P.value=n.value.passport,T.value=n.value.specialization,b.value=n.value.gender,D.value=n.value.payment_type,q.value=n.value.family_status,n.value.military_service&&(k.value=n.value.military_service),n.value.label&&(E.value=n.value.label),F.value=n.value.birth_date,N.value=n.value.admission_date):G.push("/403")})});const X=[{path:"/students",name:"Talyplar"},{path:"/students/edit",name:"Üýtgetmek",current:!0}];return(x,e)=>(m(),u(c,null,[o(xe,{paths:X}),l("div",Ve,[e[33]||(e[33]=l("h3",{class:"text-xl font-bold mx-2 select-none"},"Talyp barada maglumatlary üýtgetmek",-1)),o(s(we),{onSubmit:Q,"validation-schema":s(K),class:"space-y-4 my-4"},{default:p(({errors:t,isSubmitting:f})=>[l("div",he,[l("div",null,[e[15]||(e[15]=l("label",{for:"fullName",class:"info-label"},"Talybyň ady, familiýasy, atasynyň ady",-1)),o(s(d),{name:"full_name",type:"text",id:"fullName",modelValue:h.value,"onUpdate:modelValue":e[0]||(e[0]=a=>h.value=a),class:g(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":t.full_name}]),placeholder:"F.A.Aa"},null,8,["modelValue","class"]),l("div",ze,i(t.full_name),1)]),l("div",null,[e[16]||(e[16]=l("label",{for:"birthDate",class:"info-label"},"Doglan senesi",-1)),o(s(d),{name:"birth_date",type:"date",id:"birthDate",modelValue:F.value,"onUpdate:modelValue":e[1]||(e[1]=a=>F.value=a),class:g(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":t.birth_date}]),placeholder:"Doglan senesi"},null,8,["modelValue","class"]),l("div",Se,i(t.birth_date),1)]),l("div",null,[e[18]||(e[18]=l("label",{for:"gender",class:"info-label"},"Jynsy",-1)),o(s(d),{as:"select",name:"gender",id:"gender",class:"w-full border border-gray-300 dark:border-gray-700 rounded-md p-2 focus:outline-none",modelValue:b.value,"onUpdate:modelValue":e[2]||(e[2]=a=>b.value=a)},{default:p(()=>e[17]||(e[17]=[l("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:"M"},"Oglan",-1),l("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:"F"},"Gyz",-1)])),_:1},8,["modelValue"]),l("div",Ue,i(t.gender),1)]),l("div",null,[e[19]||(e[19]=l("label",{for:"nationality",class:"info-label"},"Milleti",-1)),o(s(d),{as:"select",name:"nationality",id:"nationality",class:"w-full border border-gray-300 dark:border-gray-700 rounded-md p-2 focus:outline-none",modelValue:z.value,"onUpdate:modelValue":e[3]||(e[3]=a=>z.value=a)},{default:p(()=>[(m(!0),u(c,null,w(s(J),a=>(m(),u("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:a.id},i(a.name),9,Te))),256))]),_:1},8,["modelValue"]),l("div",qe,i(t.nationality),1)]),l("div",null,[e[20]||(e[20]=l("label",{for:"country",class:"info-label"},"Ýurdy",-1)),o(s(d),{as:"select",name:"country",id:"country",class:"w-full border border-gray-300 dark:border-gray-700 rounded-md p-2 focus:outline-none",modelValue:S.value,"onUpdate:modelValue":e[4]||(e[4]=a=>S.value=a)},{default:p(()=>[(m(!0),u(c,null,w(s(O),a=>(m(),u("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:a.id},i(a.name),9,De))),256))]),_:1},8,["modelValue"]),l("div",Fe,i(t.country),1)]),l("div",null,[e[21]||(e[21]=l("label",{for:"registeredPlace",class:"info-label"},"Ýazgyda duran salgysy",-1)),o(s(d),{as:"textarea",rows:"1",name:"registered_place",type:"text",id:"registeredPlace",modelValue:A.value,"onUpdate:modelValue":e[5]||(e[5]=a=>A.value=a),class:g(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":t.registered_place}]),placeholder:"Ýazgyda duran salgysy"},null,8,["modelValue","class"]),l("div",Ne,i(t.registered_place),1)]),l("div",null,[e[22]||(e[22]=l("label",{for:"passport",class:"info-label"},"Passport",-1)),o(s(d),{name:"passport",type:"text",id:"passport",modelValue:P.value,"onUpdate:modelValue":e[6]||(e[6]=a=>P.value=a),class:g(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":t.passport}]),placeholder:"Passport maglumatlary"},null,8,["modelValue","class"]),l("div",Ae,i(t.passport),1)]),l("div",null,[e[23]||(e[23]=l("label",{for:"phoneNumber",class:"info-label"},"Telefon belgisi",-1)),o(s(d),{name:"phone_number",type:"text",id:"phoneNumber",modelValue:B.value,"onUpdate:modelValue":e[7]||(e[7]=a=>B.value=a),class:g(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":t.phone_number}]),placeholder:"Telefon belgisi"},null,8,["modelValue","class"]),l("div",Be,i(t.phone_number),1)]),l("div",null,[e[24]||(e[24]=l("label",{for:"region",class:"info-label"},"Welaýaty",-1)),o(s(d),{as:"select",name:"region",id:"region",class:"w-full border border-gray-300 dark:border-gray-700 rounded-md p-2 focus:outline-none",modelValue:U.value,"onUpdate:modelValue":e[8]||(e[8]=a=>U.value=a)},{default:p(()=>[(m(!0),u(c,null,w(s(L),a=>(m(),u("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:a.id},i(a.name),9,Pe))),256))]),_:1},8,["modelValue"]),l("div",Ee,i(t.region),1)]),l("div",null,[e[25]||(e[25]=l("label",{for:"specialization",class:"info-label"},"Hünäri",-1)),o(s(d),{as:"select",name:"specialization",id:"specialization",class:"w-full border border-gray-300 dark:border-gray-700 rounded-md p-2 focus:outline-none",modelValue:T.value,"onUpdate:modelValue":e[9]||(e[9]=a=>T.value=a)},{default:p(()=>[(m(!0),u(c,null,w(s(I),a=>(m(),u("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:a.instance_id},i(a.name),9,He))),256))]),_:1},8,["modelValue"]),l("div",Me,i(t.specialization),1)]),l("div",null,[e[26]||(e[26]=l("label",{for:"admissionDate",class:"info-label"},"Okuwa giren senesi",-1)),o(s(d),{name:"admission_date",type:"date",id:"admissionDate",modelValue:N.value,"onUpdate:modelValue":e[10]||(e[10]=a=>N.value=a),class:g(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":t.admission_date}]),placeholder:"Okuwa giren senesi"},null,8,["modelValue","class"]),l("div",Ce,i(t.admission_date),1)]),l("div",null,[e[28]||(e[28]=l("label",{for:"paymentType",class:"info-label"},"Töleg görnüşi",-1)),o(s(d),{as:"select",name:"payment_type",id:"paymentType",class:"w-full border border-gray-300 dark:border-gray-700 rounded-md p-2 focus:outline-none",modelValue:D.value,"onUpdate:modelValue":e[11]||(e[11]=a=>D.value=a)},{default:p(()=>e[27]||(e[27]=[l("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:"P"},"Tölegli",-1),l("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:"B"},"Býudjet",-1)])),_:1},8,["modelValue"]),l("div",$e,i(t.payment_type),1)]),l("div",null,[e[30]||(e[30]=l("label",{for:"familyStutus",class:"info-label"},"Maşgala ýagdaýy",-1)),o(s(d),{as:"select",name:"family_status",id:"familyStatus",class:"w-full border border-gray-300 dark:border-gray-700 rounded-md p-2 focus:outline-none",modelValue:q.value,"onUpdate:modelValue":e[12]||(e[12]=a=>q.value=a)},{default:p(()=>e[29]||(e[29]=[l("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:"FR"},"Hossarly",-1),l("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:"HO"},"Ýarym ýetim",-1),l("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:"CO"},"Doly ýetim",-1),l("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:"OE"},"Ýetimler öýünde ösen",-1)])),_:1},8,["modelValue"]),l("div",je,i(t.family_status),1)]),b.value==="M"?(m(),u("div",Ge,[e[31]||(e[31]=l("label",{for:"militaryService",class:"info-label"},"Harby borç",-1)),o(s(d),{name:"military_service",type:"text",id:"militaryService",modelValue:k.value,"onUpdate:modelValue":e[13]||(e[13]=a=>k.value=a),class:g(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":t.military_service}]),placeholder:"Harby borç"},null,8,["modelValue","class"]),l("div",Re,i(t.military_service),1)])):R("",!0),l("div",null,[e[32]||(e[32]=l("label",{for:"label",class:"info-label"},"Bellik",-1)),o(s(d),{as:"textarea",rows:"1",name:"label",type:"text",id:"label",modelValue:E.value,"onUpdate:modelValue":e[14]||(e[14]=a=>E.value=a),class:g(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":t.label}]),placeholder:"Bellik"},null,8,["modelValue","class"]),l("div",We,i(t.label),1)])]),l("div",Je,[l("button",{disabled:f,class:"flex w-50 px-4 py-2 my-2 justify-center rounded-lg border-none dark:border-violet-500/50 border-1 bg-gradient-to-r from-blue-400 to-blue-500 dark:from-violet-600 dark:to-violet-500 text-white hover:shadow-lg hover:shadow-blue-300/50 hover:ease-in ease-out duration-200 dark:hover:shadow-violet-500/50"},[o(ke,{class:g({hidden:!f})},null,8,["class"]),l("span",{class:g({hidden:f})},"Üýtget",2)],8,Oe)]),t.apiError?(m(),u("div",Le,i(t.apiError),1)):R("",!0)]),_:1},8,["validation-schema"])])],64))}};export{Ze as default};
