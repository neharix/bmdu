import{_ as ge,p as K,af as J,s as X,k as pe,r as l,A as L,o as Y,b as a,f as r,h,g as d,d as o,t as f,w as Q,l as W,v as ke,F as m,B as T,T as be,n as i,C as ye,E as me,G as he,i as xe,j as c,z as we,c as q,H as _e,I as Ce,u as Me,x as Se}from"./index-BJ72lbUC.js";import{_ as $e}from"./TheBreadcrumb-B8XI-bfF.js";import{u as Le,_ as Te}from"./useModalWindow-BOnDWaWF.js";import{u as Pe,T as Be}from"./useToast-DDTkaUPM.js";/* empty css                                                     */const Re={class:"w-full rounded-lg shadow-lg"},ze={class:"pt-1 rounded-t-lg dark:bg-[#171131ef] bg-white"},Ae={class:"flex items-center justify-between space-x-2 py-3 px-4"},Ee={class:"flex items-center"},je={id:"dropdown",class:"relative inline-block text-left"},De={class:"absolute left-0 z-10 mt-2 w-24 origin-top-left rounded-md bg-white dark:bg-[#171131ef] shadow-lg ring-1 ring-white dark:ring-gray-800 ring-opacity-5"},Ve={class:"py-1"},Oe=["value","onClick"],Ge={class:"lg:w-1/3 md:w-1/3 w-2/3 flex items-center space-x-2"},Ne=["disabled"],He={class:"w-full overflow-x-auto rounded-b-lg"},Ie={class:"w-full min-w-full table-auto bg-white dark:bg-[#171131ef]"},Ue={class:"bg-gray-200 dark:bg-[#211849ef]"},Fe={key:0,class:"border-y border-gray-300 dark:border-[#171131ef] p-3 select-none text-center text-[0.8rem]"},Ke={class:"border-y border-gray-300 dark:border-[#32237cef] px-4 py-2 break-words text-[0.8rem]"},Qe={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},We={key:0,class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},qe={class:"w-full flex items-center justify-center"},Je={class:"inline-flex rounded-md shadow-xs",role:"group"},Xe=["onClick"],Ye=["onClick"],Ze={class:"flex justify-center items-center mt-4 space-x-2 overflow-x-auto"},et={key:2,class:"px-2 select-none"},tt=["onClick"],st=["onClick"],ot={key:4,class:"px-2 select-none"},at={class:"toast-container w-5/6 fixed top-25 md:top-auto md:bottom-5 right-5 md:w-1/4 flex flex-col-reverse space-y-2"},rt={__name:"ExpulsionReasonsDataTable",props:["data"],emits:["update"],setup(O,{emit:x}){const w=O,_=x;K(w,(s,t)=>{g.value=s.data,M.value=[...g.value]});const{isModalOpen:C,openModal:G,header:P,context:N}=Le(),{toasts:D,addToast:p}=Pe(),H=J(),{deleteStatus:I,updateStatus:B,createStatus:R}=X(H),U=pe(),g=l([]),M=l([]),z=l(null);w.data.length>0&&(g.value=w.data,M.value=[...g.value]);const V=l("p-4 py-2 my-2 rounded-full border-none dark:border-violet-500/50 border-1 bg-blue-500 dark:bg-violet-600 text-white"),A=l("p-4 py-2 my-2 rounded-full border-none bg-gray-200 dark:bg-[#261953]"),v=l("name"),k=l("asc"),n=l(1),S=l(10),Z=[10,20,50,100],E=l(""),j=l(!1),ee=()=>{M.value=g.value.filter(s=>s.name.toLowerCase().includes(E.value.toLowerCase())),n.value=1,j.value=!0},te=()=>{E.value="",M.value=[...g.value],n.value=1,j.value=!1},F=L(()=>v.value?[...M.value].sort((s,t)=>s[v.value]<t[v.value]?k.value==="asc"?-1:1:s[v.value]>t[v.value]?k.value==="asc"?1:-1:0):g.value),se=L(()=>{const s=(n.value-1)*S.value;return F.value.slice(s,s+S.value)}),u=L(()=>Math.ceil(F.value.length/S.value)),b=s=>{s>=1&&s<=u.value&&(n.value=s)},oe=s=>{S.value=parseInt(s,10),n.value=1,$.value=!1},ae=L(()=>{const s=Math.max(2,n.value-2);return Array.from({length:Math.max(0,n.value-s)},(t,e)=>s+e)}),re=L(()=>{const s=Math.min(u.value-1,n.value+2);return Array.from({length:Math.max(0,s-n.value)},(t,e)=>n.value+e+1)}),ne=s=>{v.value===s?k.value=k.value==="asc"?"desc":"asc":(v.value=s,k.value="asc")},$=l(!1);function le(){$.value=!$.value}function de(){$.value=!1}function ue(s){s.target.closest("#dropdown")||de()}function ie(s,t,e){G(s,t),z.value=e}function ce(){C.value=!1,z.value=null}function ve(){C.value=!1,H.delete(z.value).then(()=>{_("update")}),z.value=null}return K(I,(s,t)=>{s&&(s==="success"?p("Sebäp üstünlikli ýok edildi","success"):s==="error"&&p("Ýok etme prosesinde ýalňyşlyk ýüze çykdy","error")),I.value=null}),Y(()=>{B.value&&(B.value==="success"?p("Sebäp üstünlikli üýtgedildi","success"):B.value==="error"&&p("Üýtgetme prosesinde ýalňyşlyk ýüze çykdy","error")),B.value=null,R.value&&(R.value==="success"?p("Sebäp üstünlikli hasaba alyndy","success"):R.value==="error"&&p("Hasaba alma prosesinde ýalňyşlyk ýüze çykdy","error")),R.value=null}),window.addEventListener("click",ue),(s,t)=>(a(),r(m,null,[h(Te,{"is-open":d(C),onClose:ce,onSubmit:ve,header:d(P),context:`"${d(N)}" ýok edilmegini tassyklaýarsyňyzmy?`},null,8,["is-open","header","context"]),o("div",Re,[o("div",ze,[o("div",Ae,[o("div",Ee,[o("div",je,[o("div",null,[o("button",{onClick:le,type:"button",class:"inline-flex transition duration-200 ease-in w-full justify-center rounded-md border border-gray-300 dark:border-gray-800 bg-white dark:bg-[#171131ef] dark:text-gray-200 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 dark:hover:bg-[#32237cef] focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-[#32237cef] focus:ring-offset-2 focus:ring-offset-gray-100 dark:focus:ring-offset-[#32237cef] select-none"}," Setir sany: "+f(S.value),1)]),h(be,{name:"fade-scale",onBeforeEnter:t[0]||(t[0]=e=>e.style.display="block"),onAfterLeave:t[1]||(t[1]=e=>e.style.display="none")},{default:Q(()=>[W(o("div",De,[o("div",Ve,[(a(),r(m,null,T(Z,e=>o("button",{key:e,value:e,onClick:y=>oe(e),class:"w-full text-start text-gray-700 dark:text-gray-200 block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-[#32237cef] select-none"},f(e)+" setir ",9,Oe)),64))])],512),[[ke,$.value]])]),_:1})])]),o("div",Ge,[o("button",{onClick:te,class:i([{"opacity-0":!j.value},"p-2 text-sm rounded-xl shadow-md border-none dark:border-violet-500/50 border-1 bg-blue-500 dark:bg-violet-600 text-white"]),disabled:!j.value},t[8]||(t[8]=[ye('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="w-6 h-6" viewBox="0 0 24 24" version="1.1" data-v-887fd897><title data-v-887fd897>Reload</title><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-887fd897><g id="Reload" data-v-887fd897><rect id="Rectangle" fill-rule="nonzero" x="0" y="0" width="24" height="24" data-v-887fd897></rect><path d="M4,13 C4,17.4183 7.58172,21 12,21 C16.4183,21 20,17.4183 20,13 C20,8.58172 16.4183,5 12,5 C10.4407,5 8.98566,5.44609 7.75543,6.21762" id="Path" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-887fd897></path><path d="M9.2384,1.89795 L7.49856,5.83917 C7.27552,6.34441 7.50429,6.9348 8.00954,7.15784 L11.9508,8.89768" id="Path" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-887fd897></path></g></g></svg>',1)]),10,Ne),W(o("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>E.value=e),type:"text",onKeyup:he(ee,["enter"]),placeholder:"Gözleg",class:"w-full dark:text-gray-300 transition duration-200 ease-in bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none"},null,544),[[me,E.value]])])])]),o("div",He,[o("table",Ie,[o("thead",Ue,[o("tr",null,[t[10]||(t[10]=o("th",{class:"border-y border-gray-300 dark:border-[#171131ef] p-3 select-none text-left text-[0.8rem]"}," T/B ",-1)),o("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[3]||(t[3]=e=>ne("name"))},[t[9]||(t[9]=xe(" SEBÄP ")),o("span",{class:i([v.value==="name"?k.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),d(U).user.is_superuser?(a(),r("th",Fe," GURALLAR ")):c("",!0)])]),o("tbody",null,[(a(!0),r(m,null,T(se.value,(e,y)=>(a(),r("tr",{key:e.id,class:"transition ease-in hover:ease-out duration-200 hover:bg-gray-100 dark:hover:bg-[#261953]"},[o("td",Ke,f(y+1),1),o("td",Qe,f(e.name),1),d(U).user.is_superuser?(a(),r("td",We,[o("div",qe,[o("div",Je,[(a(),r("button",{type:"button",key:e.id,onClick:fe=>d(we).push(`/expulsion-reasons/edit/${e.id}`),class:"px-4 py-2 text-[0.8rem] font-medium bg-emerald-400 hover:bg-emerald-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-emerald-700 border border-gray-200 rounded-s-lg focus:z-10 focus:ring-2 focus:ring-emerald-500 dark:border-gray-700 select-none"}," Üýtgetmek ",8,Xe)),(a(),r("button",{type:"button",key:e.id,onClick:fe=>ie("Ýok etmek",e.name,e.id),class:"px-4 py-2 text-[0.8rem] font-medium bg-red-400 hover:bg-red-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-pink-900 dark:hover:bg-pink-600 border border-gray-200 rounded-e-lg focus:z-10 focus:ring-2 focus:ring-red-500 dark:border-gray-700 dark:focus:ring-pink-500 select-none"}," Pozmak ",8,Ye))])])])):c("",!0)]))),128))])])])]),o("div",Ze,[n.value!==1?(a(),r("button",{key:0,class:i(["select-none",V.value]),onClick:t[4]||(t[4]=e=>b(n.value-1))},t[11]||(t[11]=[o("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M13 8L9 12M9 12L13 16M9 12H21M19.4845 7C17.8699 4.58803 15.1204 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C15.1204 21 17.8699 19.412 19.4845 17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2)):c("",!0),n.value>3?(a(),r("button",{key:1,class:i(["select-none",A.value]),onClick:t[5]||(t[5]=e=>b(1))}," 1 ",2)):c("",!0),n.value>4?(a(),r("span",et,"...")):c("",!0),(a(!0),r(m,null,T(ae.value,e=>(a(),r("button",{class:i(["select-none",A.value]),key:"before-"+e,onClick:y=>b(e)},f(e),11,tt))),128)),u.value!==0?(a(),r("button",{key:3,class:i(["select-none",V.value])},f(n.value),3)):c("",!0),(a(!0),r(m,null,T(re.value,e=>(a(),r("button",{class:i(["select-none",A.value]),key:"after-"+e,onClick:y=>b(e)},f(e),11,st))),128)),n.value<u.value-3?(a(),r("span",ot,"...")):c("",!0),n.value<u.value-2?(a(),r("button",{key:5,class:i(A.value),onClick:t[6]||(t[6]=e=>b(u.value))},f(u.value),3)):c("",!0),n.value!==u.value&&u.value!==0?(a(),r("button",{key:6,class:i(["select-none",V.value]),onClick:t[7]||(t[7]=e=>b(n.value+1))},t[12]||(t[12]=[o("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M11 16L15 12M15 12L11 8M15 12H3M4.51555 17C6.13007 19.412 8.87958 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C8.87958 3 6.13007 4.58803 4.51555 7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2)):c("",!0)]),(a(),q(Ce,{to:"body"},[o("div",at,[h(_e,{name:"toast"},{default:Q(()=>[(a(!0),r(m,null,T(d(D),e=>(a(),q(Be,{key:e.id,message:e.message,type:e.type,duration:e.duration,onClose:()=>D.value=d(D).filter(y=>y.id!==e.id)},null,8,["message","type","duration","onClose"]))),128))]),_:1})])]))],64))}},nt=ge(rt,[["__scopeId","data-v-887fd897"]]),lt={class:"w-full"},dt={key:0,class:"flex w-full h-[58vh] items-center justify-center dark:bg-[#171131ef] bg-white rounded-lg border border-gray-200 dark:border-[#36314e]"},ut={key:1},pt={__name:"ExpulsionReasonsListView",setup(O){const x=J(),{expulsionReasons:w}=X(x),_=Me();Y(()=>{_.isLoading=!0,x.getAll().then(()=>{_.isLoading=!1})});const C=[{path:"/expulsion-reasons",name:"Okuwdan çykarmak"},{path:"/expulsion-reasons/add",name:"Goşmak"}];return(G,P)=>(a(),r("div",lt,[h($e,{paths:C}),d(_).isLoading?(a(),r("div",dt,[h(Se,{class:"w-24"})])):(a(),r("div",ut,[h(nt,{data:d(w),onUpdate:P[0]||(P[0]=N=>d(x).getAll())},null,8,["data"])]))]))}};export{pt as default};
