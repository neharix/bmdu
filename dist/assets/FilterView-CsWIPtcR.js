import{_ as V,r as h,C as O,o as j,R as F,b as r,f as y,d as e,F as f,D as k,i as I,t as z,S as H,l as N,I as A,h as p,w as _,n as E,j as L,T as J,U as K,am as R,s as W,p as q,$ as G,g as i,X as P,c as B,N as D}from"./index-DpOwLq4y.js";import{_ as Q}from"./TheBreadcrumb-CNqsiCKu.js";const X={class:"relative w-full multi-select"},Y=["onClick"],Z={key:0,class:"absolute z-10 w-full bg-white dark:bg-[#171131] border border-gray-300 dark:border-gray-800 rounded-md shadow-md max-h-48 overflow-y-auto"},ee=["onMousedown"],te={key:0,class:"px-3 py-2 text-gray-500 select-none"},ae={__name:"MultipleSelect",props:{data:Array,emptyLabel:String},emits:["update"],setup(M,{emit:b}){const o=M,s=b,a=h(""),c=h(new Set),v=h(!1),w=O(()=>{const n=a.value.toLowerCase();return o.data.filter(g=>g.name.toLowerCase().includes(n))}),S=async n=>{c.value.has(n.id)?c.value.delete(n.id):c.value.add(n.id),s("update",Array.from(c.value)),a.value="",await K(),v.value=!1},C=O(()=>o.data.filter(n=>c.value.has(n.id))),x=n=>{n.target.closest(".multi-select")||(v.value=!1)};j(()=>{document.addEventListener("mousedown",x)}),F(()=>{document.removeEventListener("mousedown",x)});const U=()=>{v.value=!0};function $(n){c.value.delete(n),s("update",Array.from(c.value))}return(n,g)=>(r(),y("div",null,[e("div",X,[e("div",{class:"flex flex-wrap items-center gap-2 border border-gray-300 rounded-md px-2 py-1 cursor-text",onClick:U},[(r(!0),y(f,null,k(C.value,d=>(r(),y("div",{key:d.id,class:"flex items-center bg-blue-100 dark:bg-violet-600 text-blue-700 dark:text-white rounded-md px-2 py-1 text-sm select-none cursor-default"},[I(z(d.name)+" ",1),e("button",{onClick:H(T=>$(d.id),["stop","prevent"]),class:"ml-1 text-blue-700 dark:text-white focus:outline-none select-none"}," ✕ ",8,Y)]))),128)),N(e("input",{"onUpdate:modelValue":g[0]||(g[0]=d=>a.value=d),type:"text",placeholder:"",class:"flex-1 py-1 focus:outline-none"},null,512),[[A,a.value]])]),p(J,{name:"dropdown"},{default:_(()=>[v.value?(r(),y("ul",Z,[(r(!0),y(f,null,k(w.value,d=>(r(),y("li",{key:d.id,onMousedown:H(T=>S(d),["prevent"]),class:E({"px-3 py-2 cursor-pointer select-none transition ease-in duration-200":!0,"bg-blue-100 text-blue-700 dark:bg-violet-600/25 dark:text-white":c.value.has(d.id),"hover:bg-blue-50 dark:hover:bg-[#261c52]":!c.value.has(d.id)})},z(d.name),43,ee))),128)),w.value.length===0?(r(),y("li",te,z(M.emptyLabel),1)):L("",!0)])):L("",!0)]),_:1})])]))}},m=V(ae,[["__scopeId","data-v-a811aede"]]),le={class:"w-full grid grid-cols-1 md:grid-cols-3 gap-8"},se={class:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},oe={class:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},ne={class:"tile my-8"},re={class:"my-6"},de={class:"my-6"},ie={class:"my-6"},ue={class:"my-6"},pe={class:"my-6"},ce={class:"my-6"},ye={class:"my-6"},me={class:"my-6"},ve={class:"my-6"},ge={class:"my-6"},fe={class:"my-6"},we={__name:"FilterView",setup(M){const b=h(0),o=R(),{data:s,filterOptions:a}=W(o),c=[{path:"/filter",name:"Süzgüç"}];q(s,l=>{console.log(l)});function v(l){a.value.high_schools=l,o.post(a.value)}function w(l){a.value.faculties=l,o.post(a.value)}function S(l){a.value.departments=l,o.post(a.value)}function C(l){a.value.specializations=l,o.post(a.value)}function x(l){a.value.study_years=l,o.post(a.value)}function U(l){a.value.payment_types=l,o.post(a.value)}function $(l){a.value.genders=l,o.post(a.value)}function n(l){a.value.nationalities=l,o.post(a.value)}function g(l){a.value.countries=l,o.post(a.value)}function d(l){a.value.regions=l,o.post(a.value)}function T(){a.value.military_service=b.value,o.post(a.value)}return G(()=>{a.value={high_schools:[],faculties:[],departments:[],specializations:[],study_years:[],payment_types:[],genders:[],nationalities:[],regions:[],countries:[],military_service:0},sessionStorage.setItem("filterOptions",JSON.stringify(a.value))}),(l,t)=>(r(),y(f,null,[p(Q,{paths:c}),t[18]||(t[18]=e("h3",{class:"text-xl font-semibold mx-2 my-8 select-none"},"Talyplar",-1)),e("div",le,[(r(!0),y(f,null,k(i(s).students,u=>(r(),B(D,{label:u.name,"data-value":u.count,link:`/filter/detail?gender=${u.query}`,"icon-bg-class":"bg-sky-200 dark:bg-sky-500/75"},{default:_(()=>t[1]||(t[1]=[e("svg",{class:"w-6 h-8 stroke-sky-500 dark:stroke-sky-900",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e("circle",{cx:"9",cy:"7",r:"4"}),e("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})],-1)])),_:2},1032,["label","data-value","link"]))),256))]),t[19]||(t[19]=e("h3",{class:"text-xl font-semibold mx-2 my-8 select-none"},"Welaýatlar boýunça",-1)),e("div",se,[(r(!0),y(f,null,k(i(s).regions,u=>(r(),B(D,{label:u.name,"data-value":u.count,link:`/filter/detail?region=${u.id}`,"icon-bg-class":"bg-red-200 dark:bg-red-500/75"},{default:_(()=>t[2]||(t[2]=[e("svg",{class:"w-6 h-8 stroke-red-500 dark:stroke-red-900",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e("circle",{cx:"12",cy:"10",r:"3"})],-1)])),_:2},1032,["label","data-value","link"]))),256))]),t[20]||(t[20]=e("h3",{class:"text-xl font-semibold mx-2 my-8 select-none"},"Hünär derejeleri boýunça",-1)),e("div",oe,[(r(!0),y(f,null,k(i(s).degrees,u=>(r(),B(D,{label:u.name,"data-value":u.count,"icon-bg-class":"bg-yellow-200 dark:bg-yellow-500/75"},{default:_(()=>t[3]||(t[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 stroke-yellow-500 dark:stroke-yellow-900",viewBox:"0 0 24 24",fill:"transparent",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},[e("rect",{x:"3",y:"3",width:"7",height:"7"}),e("rect",{x:"14",y:"3",width:"7",height:"7"}),e("rect",{x:"14",y:"14",width:"7",height:"7"}),e("rect",{x:"3",y:"14",width:"7",height:"7"})],-1)])),_:2},1032,["label","data-value"]))),256))]),e("div",ne,[t[16]||(t[16]=e("h3",{class:"text-xl font-semibold mx-2 mb-4 mt-2 select-none"},"Gözleg gurallary",-1)),t[17]||(t[17]=e("hr",{class:"border-gray-200 dark:border-gray-800"},null,-1)),e("div",re,[t[4]||(t[4]=e("p",{class:"info-label"},"Ýokary okuw mekdep",-1)),p(m,{data:i(s).high_schools,onUpdate:v,"empty-label":"Maglumat gorunda ýokary okuw mekdep tapylmady"},null,8,["data"])]),e("div",de,[t[5]||(t[5]=e("p",{class:"info-label"},"Fakultet",-1)),p(m,{data:i(s).faculties,onUpdate:w,"empty-label":"Maglumat gorunda fakultet tapylmady"},null,8,["data"])]),e("div",ie,[t[6]||(t[6]=e("p",{class:"info-label"},"Kafedra",-1)),p(m,{data:i(s).departments,onUpdate:S,"empty-label":"Maglumat gorunda kafedra tapylmady"},null,8,["data"])]),e("div",ue,[t[7]||(t[7]=e("p",{class:"info-label"},"Hünär",-1)),p(m,{data:i(s).specializations,onUpdate:C,"empty-label":"Maglumat gorunda hünär tapylmady"},null,8,["data"])]),e("div",pe,[t[8]||(t[8]=e("p",{class:"info-label"},"Kursy",-1)),p(m,{data:i(s).study_years,onUpdate:x,"empty-label":"Kurs tapylmady"},null,8,["data"])]),e("div",ce,[t[9]||(t[9]=e("p",{class:"info-label"},"Töleg görnüşi",-1)),p(m,{data:i(s).payment_types,onUpdate:U,"empty-label":"Töleg görnüşi tapylmady"},null,8,["data"])]),e("div",ye,[t[10]||(t[10]=e("p",{class:"info-label"},"Jynsy",-1)),p(m,{data:i(s).genders,onUpdate:$,"empty-label":"Jyns tapylmady"},null,8,["data"])]),e("div",me,[t[11]||(t[11]=e("p",{class:"info-label"},"Millet",-1)),p(m,{data:i(s).nationalities,onUpdate:n,"empty-label":"Millet tapylmady"},null,8,["data"])]),e("div",ve,[t[12]||(t[12]=e("p",{class:"info-label"},"Döwlet",-1)),p(m,{data:i(s).countries,onUpdate:g,"empty-label":"Döwlet tapylmady"},null,8,["data"])]),e("div",ge,[t[13]||(t[13]=e("p",{class:"info-label"},"Welaýat",-1)),p(m,{data:i(s).regions,onUpdate:d,"empty-label":"Welaýat tapylmady"},null,8,["data"])]),e("div",fe,[t[15]||(t[15]=e("p",{class:"info-label",for:"military-service"},"Harby borç",-1)),N(e("select",{class:"w-full border border-gray-300 rounded-md p-2 focus:outline-none",onChange:T,"onUpdate:modelValue":t[0]||(t[0]=u=>b.value=u)},t[14]||(t[14]=[e("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:0},"Saýlanmadyk",-1),e("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:1},"Harby borjuny ýerine ýetiren ",-1),e("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",value:2},"Harby borçly",-1)]),544),[[P,b.value,void 0,{number:!0}]])])]),t[21]||(t[21]=e("div",{class:"h-24"},null,-1))],64))}};export{we as default};
