import{_ as Z,p as K,O as q,s as ee,r as d,A as z,o as J,b as a,f as r,h as x,g as h,d as e,t as g,w as V,l as Q,v as Ce,F as f,B as _,T as te,n as c,C as Se,E as se,G as $e,i as oe,z as Me,j as k,c as N,H as ae,I as le,J as W,P as Fe,Q as Y,x as re,R as Le,u as Te}from"./index-BJ72lbUC.js";import{u as He,_ as ze}from"./useModalWindow-BOnDWaWF.js";import{u as ne,T as de}from"./useToast-DDTkaUPM.js";/* empty css                                                     */const Pe={class:"w-full rounded-lg shadow-lg"},Be={class:"pt-1 rounded-t-lg dark:bg-[#171131ef] bg-white"},je={class:"flex items-center justify-between space-x-2 py-3 px-4"},Oe={class:"flex items-center"},Ae={id:"dropdown",class:"relative inline-block text-left"},Ee={class:"absolute left-0 z-10 mt-2 w-24 origin-top-left rounded-md bg-white dark:bg-[#171131ef] shadow-lg ring-1 ring-white dark:ring-gray-800 ring-opacity-5"},De={class:"py-1"},Re=["value","onClick"],Ue={class:"lg:w-1/3 md:w-1/3 w-2/3 flex items-center space-x-2"},Ie=["disabled"],Ve={class:"w-full overflow-x-auto rounded-b-lg"},Ne={class:"w-full min-w-full table-auto bg-white dark:bg-[#171131ef]"},Ge={class:"bg-gray-200 dark:bg-[#211849ef]"},Ke={class:"border-y border-gray-300 dark:border-[#32237cef] px-4 py-2 break-words text-[0.8rem]"},Qe={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},qe={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},Je={class:"w-full flex items-center justify-center"},We={class:"inline-flex rounded-md shadow-xs",role:"group"},Xe=["onClick"],Ye=["onClick"],Ze={class:"flex justify-center items-center mt-4 space-x-2 overflow-x-auto"},et={key:2,class:"px-2 select-none"},tt=["onClick"],st=["onClick"],ot={key:4,class:"px-2 select-none"},at={class:"toast-container w-5/6 fixed top-25 md:top-auto md:bottom-5 right-5 md:w-1/4 flex flex-col-reverse space-y-2"},lt={__name:"HighSchoolFacultiesDataTable",props:["data"],emits:["update"],setup(G,{emit:C}){const w=W(),v=G,S=C;K(v,(l,o)=>{b.value=l.data,T.value=[...b.value]});const{isModalOpen:$,openModal:P,header:M,context:R}=He(),{toasts:B,addToast:p}=ne(),i=q(),{removeStatus:F,updateStatus:L}=ee(i),b=d([]),T=d([]),H=d(null);v.data.length>0&&(b.value=v.data,T.value=[...b.value]);const E=d("p-4 py-2 my-2 rounded-full border-none dark:border-violet-500/50 border-1 bg-blue-500 dark:bg-violet-600 text-white"),j=d("p-4 py-2 my-2 rounded-full border-none bg-gray-200 dark:bg-[#261953]"),n=d("name"),u=d("asc"),s=d(1),m=d(10),ue=[10,20,50,100],U=d(""),I=d(!1),ie=()=>{T.value=b.value.filter(l=>l.name.toLowerCase().includes(U.value.toLowerCase())),s.value=1,I.value=!0},ce=()=>{U.value="",T.value=[...b.value],s.value=1,I.value=!1},X=z(()=>n.value?[...T.value].sort((l,o)=>l[n.value]<o[n.value]?u.value==="asc"?-1:1:l[n.value]>o[n.value]?u.value==="asc"?1:-1:0):b.value),ve=z(()=>{const l=(s.value-1)*m.value;return X.value.slice(l,l+m.value)}),y=z(()=>Math.ceil(X.value.length/m.value)),O=l=>{l>=1&&l<=y.value&&(s.value=l)},fe=l=>{m.value=parseInt(l,10),s.value=1,D.value=!1},ge=z(()=>{const l=Math.max(2,s.value-2);return Array.from({length:Math.max(0,s.value-l)},(o,t)=>l+t)}),he=z(()=>{const l=Math.min(y.value-1,s.value+2);return Array.from({length:Math.max(0,l-s.value)},(o,t)=>s.value+t+1)}),pe=l=>{n.value===l?u.value=u.value==="asc"?"desc":"asc":(n.value=l,u.value="asc")},D=d(!1);function be(){D.value=!D.value}function me(){D.value=!1}function ye(l){l.target.closest("#dropdown")||me()}function ke(l,o,t){P(l,o),H.value=t}function xe(){$.value=!1,H.value=null}function we(){$.value=!1,i.removeFaculty(w.params.id,H.value).then(()=>{S("update")}),H.value=null}return K(F,(l,o)=>{l&&(l==="success"?p("Fakultet ÝOM-dan üstünlikli ýok edildi","success"):l==="error"&&p("Ýok etme prosesinde ýalňyşlyk ýüze çykdy","error")),F.value=null}),J(()=>{L.value&&(L.value==="success"?p("Fakultet üstünlikli üýtgedildi","success"):L.value==="error"&&p("Üýtgetme prosesinde ýalňyşlyk ýüze çykdy","error")),L.value=null}),window.addEventListener("click",ye),(l,o)=>(a(),r(f,null,[x(ze,{"is-open":h($),onClose:xe,onSubmit:we,header:h(M),context:`"${h(R)}" ýok edilmegini tassyklaýarsyňyzmy?`},null,8,["is-open","header","context"]),e("div",Pe,[e("div",Be,[e("div",je,[e("div",Oe,[e("div",Ae,[e("div",null,[e("button",{onClick:be,type:"button",class:"inline-flex transition duration-200 ease-in w-full justify-center rounded-md border border-gray-300 dark:border-gray-800 bg-white dark:bg-[#171131ef] dark:text-gray-200 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 dark:hover:bg-[#32237cef] focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-[#32237cef] focus:ring-offset-2 focus:ring-offset-gray-100 dark:focus:ring-offset-[#32237cef] select-none"}," Setir sany: "+g(m.value),1)]),x(te,{name:"fade-scale",onBeforeEnter:o[0]||(o[0]=t=>t.style.display="block"),onAfterLeave:o[1]||(o[1]=t=>t.style.display="none")},{default:V(()=>[Q(e("div",Ee,[e("div",De,[(a(),r(f,null,_(ue,t=>e("button",{key:t,value:t,onClick:A=>fe(t),class:"w-full text-start text-gray-700 dark:text-gray-200 block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-[#32237cef] select-none"},g(t)+" setir ",9,Re)),64))])],512),[[Ce,D.value]])]),_:1})])]),e("div",Ue,[e("button",{onClick:ce,class:c([{"opacity-0":!I.value},"p-2 text-sm rounded-xl shadow-md border-none dark:border-violet-500/50 border-1 bg-blue-500 dark:bg-violet-600 text-white"]),disabled:!I.value},o[8]||(o[8]=[Se('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="w-6 h-6" viewBox="0 0 24 24" version="1.1" data-v-a6c97f99><title data-v-a6c97f99>Reload</title><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-a6c97f99><g id="Reload" data-v-a6c97f99><rect id="Rectangle" fill-rule="nonzero" x="0" y="0" width="24" height="24" data-v-a6c97f99></rect><path d="M4,13 C4,17.4183 7.58172,21 12,21 C16.4183,21 20,17.4183 20,13 C20,8.58172 16.4183,5 12,5 C10.4407,5 8.98566,5.44609 7.75543,6.21762" id="Path" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-a6c97f99></path><path d="M9.2384,1.89795 L7.49856,5.83917 C7.27552,6.34441 7.50429,6.9348 8.00954,7.15784 L11.9508,8.89768" id="Path" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-a6c97f99></path></g></g></svg>',1)]),10,Ie),Q(e("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>U.value=t),type:"text",onKeyup:$e(ie,["enter"]),placeholder:"Gözleg",class:"w-full dark:text-gray-300 transition duration-200 ease-in bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none"},null,544),[[se,U.value]])])])]),e("div",Ve,[e("table",Ne,[e("thead",Ge,[e("tr",null,[o[10]||(o[10]=e("th",{class:"border-y border-gray-300 dark:border-[#171131ef] p-3 select-none text-left text-[0.8rem]"}," T/B ",-1)),e("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:o[3]||(o[3]=t=>pe("name"))},[o[9]||(o[9]=oe(" FAKULTET ")),e("span",{class:c([n.value==="name"?u.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),o[11]||(o[11]=e("th",{class:"border-y border-gray-300 dark:border-[#171131ef] p-3 select-none text-center text-[0.8rem]"}," GURALLAR ",-1))])]),e("tbody",null,[(a(!0),r(f,null,_(ve.value,(t,A)=>(a(),r("tr",{key:t.id,class:"transition ease-in hover:ease-out duration-200 hover:bg-gray-100 dark:hover:bg-[#261953]"},[e("td",Ke,g(A+1),1),e("td",Qe,g(t.name),1),e("td",qe,[e("div",Je,[e("div",We,[(a(),r("button",{type:"button",key:t.id,onClick:_e=>h(Me).push(`/faculties/edit/${t.id}`),class:"px-4 py-2 text-[0.8rem] font-medium bg-emerald-400 hover:bg-emerald-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-emerald-700 border border-gray-200 rounded-s-lg focus:z-10 focus:ring-2 focus:ring-emerald-500 dark:border-gray-700 select-none"}," Üýtgetmek ",8,Xe)),(a(),r("button",{type:"button",key:t.id,onClick:_e=>ke("Ýok etmek",t.name,t.id),class:"px-4 py-2 text-[0.8rem] font-medium bg-red-400 hover:bg-red-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-pink-900 dark:hover:bg-pink-600 border border-gray-200 rounded-e-lg focus:z-10 focus:ring-2 focus:ring-red-500 dark:border-gray-700 dark:focus:ring-pink-500 select-none"}," Pozmak ",8,Ye))])])])]))),128))])])])]),e("div",Ze,[s.value!==1?(a(),r("button",{key:0,class:c(["select-none",E.value]),onClick:o[4]||(o[4]=t=>O(s.value-1))},o[12]||(o[12]=[e("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M13 8L9 12M9 12L13 16M9 12H21M19.4845 7C17.8699 4.58803 15.1204 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C15.1204 21 17.8699 19.412 19.4845 17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2)):k("",!0),s.value>3?(a(),r("button",{key:1,class:c(["select-none",j.value]),onClick:o[5]||(o[5]=t=>O(1))}," 1 ",2)):k("",!0),s.value>4?(a(),r("span",et,"...")):k("",!0),(a(!0),r(f,null,_(ge.value,t=>(a(),r("button",{class:c(["select-none",j.value]),key:"before-"+t,onClick:A=>O(t)},g(t),11,tt))),128)),y.value!==0?(a(),r("button",{key:3,class:c(["select-none",E.value])},g(s.value),3)):k("",!0),(a(!0),r(f,null,_(he.value,t=>(a(),r("button",{class:c(["select-none",j.value]),key:"after-"+t,onClick:A=>O(t)},g(t),11,st))),128)),s.value<y.value-3?(a(),r("span",ot,"...")):k("",!0),s.value<y.value-2?(a(),r("button",{key:5,class:c(["select-none",j.value]),onClick:o[6]||(o[6]=t=>O(y.value))},g(y.value),3)):k("",!0),s.value!==y.value&&y.value!==0?(a(),r("button",{key:6,class:c(["select-none",E.value]),onClick:o[7]||(o[7]=t=>O(s.value+1))},o[13]||(o[13]=[e("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M11 16L15 12M15 12L11 8M15 12H3M4.51555 17C6.13007 19.412 8.87958 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C8.87958 3 6.13007 4.58803 4.51555 7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2)):k("",!0)]),(a(),N(le,{to:"body"},[e("div",at,[x(ae,{name:"toast"},{default:V(()=>[(a(!0),r(f,null,_(h(B),t=>(a(),N(de,{key:t.id,message:t.message,type:t.type,duration:t.duration,onClose:()=>B.value=h(B).filter(A=>A.id!==t.id)},null,8,["message","type","duration","onClose"]))),128))]),_:1})])]))],64))}},rt=Z(lt,[["__scopeId","data-v-a6c97f99"]]),nt={class:"toast-container w-5/6 fixed top-25 md:top-auto md:bottom-5 right-5 md:w-1/4 flex flex-col-reverse space-y-2"},dt={class:"tile mb-6"},ut={class:"relative w-full multi-select"},it=["onClick"],ct={key:0,class:"absolute z-10 w-full bg-white dark:bg-[#171131] border border-gray-300 dark:border-gray-800 rounded-md shadow-md max-h-48 overflow-y-auto"},vt=["onMousedown"],ft={key:0,class:"px-3 py-2 text-gray-500 select-none"},gt={class:"flex flex-wrap justify-center md:justify-end lg:justify-end mt-3"},ht=["disabled"],pt={__name:"AddHighSchoolFaculty",emits:["update"],setup(G,{emit:C}){const w=C,{toasts:v,addToast:S}=ne(),$=W(),P=q();P.getHighSchoolExcFaculties($.params.id);const M=d(!1),{highSchoolExcFaculties:R,createHighSchoolFacultiesStatus:B}=ee(P),p=d(""),i=d(new Set),F=d(!1),L=z(()=>{const n=p.value.toLowerCase();return R.value.filter(u=>u.name.toLowerCase().includes(n))}),b=async n=>{i.value.has(n.id)?i.value.delete(n.id):i.value.add(n.id),p.value="",await Le(),F.value=!1},T=z(()=>R.value.filter(n=>i.value.has(n.id))),H=n=>{n.target.closest(".multi-select")||(F.value=!1)};J(()=>{document.addEventListener("mousedown",H)}),Fe(()=>{document.removeEventListener("mousedown",H)});const E=()=>{F.value=!0},j=()=>{const n=Array.from(i.value);n.length!==0&&(console.log(n),M.value=!0,P.createHighSchoolFaculty({high_school:parseInt($.params.id),faculties:n}).then(()=>{w("update"),i.value.clear(),M.value=!1}))};return K(B,(n,u)=>{n&&(n==="success"?S("Fakultet üstünlikli hasaba alyndy","success"):n==="error"&&S("Hasaba alma prosesinde ýalňyşlyk ýüze çykdy","error")),B.value=null}),(n,u)=>(a(),r(f,null,[(a(),N(le,{to:"body"},[e("div",nt,[x(ae,{name:"toast"},{default:V(()=>[(a(!0),r(f,null,_(h(v),s=>(a(),N(de,{key:s.id,message:s.message,type:s.type,duration:s.duration,onClose:()=>v.value=h(v).filter(m=>m.id!==s.id)},null,8,["message","type","duration","onClose"]))),128))]),_:1})])])),e("div",dt,[u[1]||(u[1]=e("h3",{class:"text-xl font-bold mx-2 select-none my-3"},"Täze fakultet goşmak",-1)),e("div",null,[e("div",ut,[e("div",{class:"flex flex-wrap items-center gap-2 border border-gray-300 rounded-md px-2 py-1 cursor-text",onClick:E},[(a(!0),r(f,null,_(T.value,s=>(a(),r("div",{key:s.id,class:"flex items-center bg-blue-100 dark:bg-violet-600 text-blue-700 dark:text-white rounded-md px-2 py-1 text-sm select-none cursor-default"},[oe(g(s.name)+" ",1),e("button",{onClick:Y(m=>i.value.delete(s.id),["stop","prevent"]),class:"ml-1 text-blue-700 dark:text-white focus:outline-none select-none"}," ✕ ",8,it)]))),128)),Q(e("input",{"onUpdate:modelValue":u[0]||(u[0]=s=>p.value=s),type:"text",placeholder:"",class:"flex-1 py-1 focus:outline-none"},null,512),[[se,p.value]])]),x(te,{name:"dropdown"},{default:V(()=>[F.value?(a(),r("ul",ct,[(a(!0),r(f,null,_(L.value,s=>(a(),r("li",{key:s.id,onMousedown:Y(m=>b(s),["prevent"]),class:c({"px-3 py-2 cursor-pointer select-none transition ease-in duration-200":!0,"bg-blue-100 text-blue-700 dark:bg-violet-600/25 dark:text-white":i.value.has(s.id),"hover:bg-blue-50 dark:hover:bg-[#261c52]":!i.value.has(s.id)})},g(s.name),43,vt))),128)),L.value.length===0?(a(),r("li",ft," Maglumat gorunda fakultet tapylmady ")):k("",!0)])):k("",!0)]),_:1})])]),e("div",gt,[e("button",{disabled:M.value,onClick:j,class:"flex w-50 px-4 py-2 my-2 justify-center rounded-lg border-none dark:border-violet-500/50 border-1 bg-gradient-to-r from-blue-400 to-blue-500 dark:from-violet-600 dark:to-violet-500 text-white hover:shadow-lg hover:shadow-blue-300/50 hover:ease-in ease-out duration-200 dark:hover:shadow-violet-500/50 select-none"},[x(re,{class:c({hidden:!M.value})},null,8,["class"]),e("span",{class:c({hidden:M.value})},"Hasaba al",2)],8,ht)])])],64))}},bt=Z(pt,[["__scopeId","data-v-1185f9fe"]]),mt={class:"w-full"},yt={class:"w-full"},kt={key:0,class:"flex w-full h-[58vh] items-center justify-center dark:bg-[#171131ef] bg-white rounded-lg border border-gray-200 dark:border-[#36314e]"},xt={key:1},$t={__name:"HighSchoolFacultiesView",setup(G){const C=W(),w=q(),v=Te();J(()=>{v.isLoading=!0,w.getHighSchoolFaculties(C.params.id).then(()=>{v.isLoading=!1})});const S=()=>{w.getHighSchoolFaculties(C.params.id),w.getHighSchoolExcFaculties(C.params.id)};return($,P)=>(a(),r(f,null,[e("div",mt,[x(bt,{onUpdate:S})]),e("div",yt,[h(v).isLoading?(a(),r("div",kt,[x(re,{class:"w-24"})])):(a(),r("div",xt,[x(rt,{data:h(w).highSchoolFaculties,onUpdate:S},null,8,["data"])]))])],64))}};export{$t as default};
