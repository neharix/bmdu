import{_ as ae,p as K,Q as X,s as J,r as d,z as L,o as Z,b as a,g as r,h as M,u as y,e,t as p,w as G,l as Q,v as _e,F as f,A as z,T as se,n as c,B as Ce,D as re,E as Se,i as F,x as ze,j as S,c as Y,G as le,H as ne,I as ee,R as ie,N as $e,S as Me,O as oe,y as De,P as Te,M as He}from"./index-CxU83Qru.js";/* empty css                                                     */import{u as de,T as ue}from"./useToast-BD7xrvgK.js";/* empty css                                                                             *//* empty css                                                                                       */import{u as Le,_ as Ae}from"./useModalWindow-YBdBHNYD.js";const Pe={class:"w-full rounded-lg shadow-lg"},Be={class:"pt-1 rounded-t-lg dark:bg-[#171131ef] bg-white"},Oe={class:"flex items-center justify-between space-x-2 py-3 px-4"},Re={class:"flex items-center"},je={id:"dropdown",class:"relative inline-block text-left"},Ee={class:"absolute left-0 z-10 mt-2 w-24 origin-top-left rounded-md bg-white dark:bg-[#171131ef] shadow-lg ring-1 ring-white dark:ring-gray-800 ring-opacity-5"},Ie={class:"py-1"},Ue=["value","onClick"],Ve={class:"lg:w-1/3 md:w-1/3 w-2/3 flex items-center space-x-2"},Ne=["disabled"],Fe={class:"w-full overflow-x-auto rounded-b-lg"},Ke={class:"w-full min-w-full table-auto bg-white dark:bg-[#171131ef]"},Ge={class:"bg-gray-200 dark:bg-[#211849ef]"},Qe={class:"border-y border-gray-300 dark:border-[#32237cef] px-4 py-2 break-words text-[0.8rem]"},Ye={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},qe={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},We={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},Je={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},Xe={class:"w-full flex items-center justify-center"},Ze={class:"inline-flex rounded-md shadow-xs",role:"group"},et=["onClick"],tt=["onClick"],ot={class:"flex justify-center items-center mt-4 space-x-2 overflow-x-auto"},at={key:2,class:"px-2 select-none"},st=["onClick"],rt=["onClick"],lt={key:4,class:"px-2 select-none"},nt={class:"toast-container w-5/6 fixed top-25 md:top-auto md:bottom-5 right-5 md:w-1/4 flex flex-col-reverse space-y-2"},it={__name:"HighSchoolSpecializationsDataTable",props:["data"],emits:["update"],setup(q,{emit:$}){ee();const j=q,m=$;K(j,(s,o)=>{k.value=s.data,v.value=[...k.value]});const{isModalOpen:x,openModal:A,header:E,context:I}=Le(),{toasts:w,addToast:h}=de(),D=X(),{removeStatus:U,updateStatus:T}=J(D),k=d([]),v=d([]),_=d(null),P=d("p-4 py-2 my-2 rounded-full border-none dark:border-violet-500/50 border-1 bg-blue-500 dark:bg-violet-600 text-white"),B=d("p-4 py-2 my-2 rounded-full border-none bg-gray-200 dark:bg-[#261953]"),g=d("name"),b=d("asc"),i=d(1),H=d(10),n=[10,20,50,100],u=d(""),l=d(!1),V=()=>{v.value=k.value.filter(s=>s.name.toLowerCase().includes(u.value.toLowerCase())),i.value=1,l.value=!0},ce=()=>{u.value="",v.value=[...k.value],i.value=1,l.value=!1},te=L(()=>g.value?[...v.value].sort((s,o)=>s[g.value]<o[g.value]?b.value==="asc"?-1:1:s[g.value]>o[g.value]?b.value==="asc"?1:-1:0):k.value),ve=L(()=>{const s=(i.value-1)*H.value;return te.value.slice(s,s+H.value)}),C=L(()=>Math.ceil(te.value.length/H.value)),O=s=>{s>=1&&s<=C.value&&(i.value=s)},pe=s=>{H.value=parseInt(s,10),i.value=1,N.value=!1},ge=L(()=>{const s=Math.max(2,i.value-2);return Array.from({length:Math.max(0,i.value-s)},(o,t)=>s+t)}),fe=L(()=>{const s=Math.min(C.value-1,i.value+2);return Array.from({length:Math.max(0,s-i.value)},(o,t)=>i.value+t+1)}),W=s=>{g.value===s?b.value=b.value==="asc"?"desc":"asc":(g.value=s,b.value="asc")},N=d(!1);function be(){N.value=!N.value}function me(){N.value=!1}function he(s){s.target.closest("#dropdown")||me()}function ke(s,o,t){A(s,o),_.value=t}function ye(){x.value=!1,_.value=null}function xe(){x.value=!1,D.removeSpecialization(_.value).then(()=>{m("update")}),_.value=null}return K(U,(s,o)=>{s&&(s==="success"?h("Hünar ÝOM-dan üstünlikli ýok edildi","success"):s==="error"&&h("Ýok etme prosesinde ýalňyşlyk ýüze çykdy","error")),U.value=null}),Z(()=>{T.value&&(T.value==="success"?h("Hünär üstünlikli üýtgedildi","success"):T.value==="error"&&h("Üýtgetme prosesinde ýalňyşlyk ýüze çykdy","error")),T.value=null}),window.addEventListener("click",he),(s,o)=>(a(),r(f,null,[M(Ae,{"is-open":y(x),onClose:ye,onSubmit:xe,header:y(E),context:`"${y(I)}" ýok edilmegini tassyklaýarsyňyzmy?`},null,8,["is-open","header","context"]),e("div",Pe,[e("div",Be,[e("div",Oe,[e("div",Re,[e("div",je,[e("div",null,[e("button",{onClick:be,type:"button",class:"inline-flex transition duration-200 ease-in w-full justify-center rounded-md border border-gray-300 dark:border-gray-800 bg-white dark:bg-[#171131ef] dark:text-gray-200 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 dark:hover:bg-[#32237cef] focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-[#32237cef] focus:ring-offset-2 focus:ring-offset-gray-100 dark:focus:ring-offset-[#32237cef] select-none"}," Setir sany: "+p(H.value),1)]),M(se,{name:"fade-scale",onBeforeEnter:o[0]||(o[0]=t=>t.style.display="block"),onAfterLeave:o[1]||(o[1]=t=>t.style.display="none")},{default:G(()=>[Q(e("div",Ee,[e("div",Ie,[(a(),r(f,null,z(n,t=>e("button",{key:t,value:t,onClick:R=>pe(t),class:"w-full text-start text-gray-700 dark:text-gray-200 block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-[#32237cef] select-none"},p(t)+" setir ",9,Ue)),64))])],512),[[_e,N.value]])]),_:1})])]),e("div",Ve,[e("button",{onClick:ce,class:c([{"opacity-0":!l.value},"p-2 text-sm rounded-xl shadow-md border-none dark:border-violet-500/50 border-1 bg-blue-500 dark:bg-violet-600 text-white"]),disabled:!l.value},o[10]||(o[10]=[Ce('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="w-6 h-6" viewBox="0 0 24 24" version="1.1" data-v-0304bed5><title data-v-0304bed5>Reload</title><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-0304bed5><g id="Reload" data-v-0304bed5><rect id="Rectangle" fill-rule="nonzero" x="0" y="0" width="24" height="24" data-v-0304bed5></rect><path d="M4,13 C4,17.4183 7.58172,21 12,21 C16.4183,21 20,17.4183 20,13 C20,8.58172 16.4183,5 12,5 C10.4407,5 8.98566,5.44609 7.75543,6.21762" id="Path" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-0304bed5></path><path d="M9.2384,1.89795 L7.49856,5.83917 C7.27552,6.34441 7.50429,6.9348 8.00954,7.15784 L11.9508,8.89768" id="Path" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-0304bed5></path></g></g></svg>',1)]),10,Ne),Q(e("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>u.value=t),type:"text",onKeyup:Se(V,["enter"]),placeholder:"Gözleg",class:"w-full dark:text-gray-300 transition duration-200 ease-in bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none"},null,544),[[re,u.value]])])])]),e("div",Fe,[e("table",Ke,[e("thead",Ge,[e("tr",null,[o[14]||(o[14]=e("th",{class:"border-y border-gray-300 dark:border-[#171131ef] p-3 select-none text-left text-[0.8rem]"}," T/B ",-1)),e("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:o[3]||(o[3]=t=>W("name"))},[o[11]||(o[11]=F(" HÜNÄR ")),e("span",{class:c([g.value==="name"?b.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),e("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:o[4]||(o[4]=t=>W("department"))},[o[12]||(o[12]=F(" KAFEDRASY ")),e("span",{class:c([g.value==="department"?b.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),e("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:o[5]||(o[5]=t=>W("classificator"))},[o[13]||(o[13]=F(" KLASSIFIKATORY ")),e("span",{class:c([g.value==="classificator"?b.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),o[15]||(o[15]=e("th",{class:"border-y border-gray-300 dark:border-[#171131ef] p-3 select-none text-center text-[0.8rem]"}," GURALLAR ",-1))])]),e("tbody",null,[(a(!0),r(f,null,z(ve.value,(t,R)=>(a(),r("tr",{key:t.id,class:"transition ease-in hover:ease-out duration-200 hover:bg-gray-100 dark:hover:bg-[#261953]"},[e("td",Qe,p(R+1),1),e("td",Ye,p(t.name),1),e("td",qe,p(t.department),1),e("td",We,[e("span",{class:c(["py-2 px-3 transition duration-200 ease-out select-none rounded-lg",{"hover:bg-red-500 dark:hover:bg-pink-900 hover:text-white":t.classificator==="Ýok","hover:bg-emerald-500 dark:hover:bg-emerald-700 hover:text-white":t.classificator!=="Ýok"}])},p(t.classificator),3)]),e("td",Je,[e("div",Xe,[e("div",Ze,[(a(),r("button",{type:"button",key:t.id,onClick:we=>y(ze).push(`/specializations/edit/${t.id}`),class:"px-4 py-2 text-[0.8rem] font-medium bg-emerald-400 hover:bg-emerald-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-emerald-700 border border-gray-200 rounded-s-lg focus:z-10 focus:ring-2 focus:ring-emerald-500 dark:border-gray-700 select-none"}," Üýtgetmek ",8,et)),(a(),r("button",{type:"button",key:t.id,onClick:we=>ke("Ýok etmek",t.name,t.instance_id),class:"px-4 py-2 text-[0.8rem] font-medium bg-red-400 hover:bg-red-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-pink-900 dark:hover:bg-pink-600 border border-gray-200 rounded-e-lg focus:z-10 focus:ring-2 focus:ring-red-500 dark:border-gray-700 dark:focus:ring-pink-500 select-none"}," Pozmak ",8,tt))])])])]))),128))])])])]),e("div",ot,[i.value!==1?(a(),r("button",{key:0,class:c(["select-none",P.value]),onClick:o[6]||(o[6]=t=>O(i.value-1))},o[16]||(o[16]=[e("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M13 8L9 12M9 12L13 16M9 12H21M19.4845 7C17.8699 4.58803 15.1204 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C15.1204 21 17.8699 19.412 19.4845 17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2)):S("",!0),i.value>3?(a(),r("button",{key:1,class:c(["select-none",B.value]),onClick:o[7]||(o[7]=t=>O(1))}," 1 ",2)):S("",!0),i.value>4?(a(),r("span",at,"...")):S("",!0),(a(!0),r(f,null,z(ge.value,t=>(a(),r("button",{class:c(["select-none",B.value]),key:"before-"+t,onClick:R=>O(t)},p(t),11,st))),128)),C.value!==0?(a(),r("button",{key:3,class:c(["select-none",P.value])},p(i.value),3)):S("",!0),(a(!0),r(f,null,z(fe.value,t=>(a(),r("button",{class:c(["select-none",B.value]),key:"after-"+t,onClick:R=>O(t)},p(t),11,rt))),128)),i.value<C.value-3?(a(),r("span",lt,"...")):S("",!0),i.value<C.value-2?(a(),r("button",{key:5,class:c(["select-none",B.value]),onClick:o[8]||(o[8]=t=>O(C.value))},p(C.value),3)):S("",!0),i.value!==C.value&&C.value!==0?(a(),r("button",{key:6,class:c(["select-none",P.value]),onClick:o[9]||(o[9]=t=>O(i.value+1))},o[17]||(o[17]=[e("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M11 16L15 12M15 12L11 8M15 12H3M4.51555 17C6.13007 19.412 8.87958 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C8.87958 3 6.13007 4.58803 4.51555 7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2)):S("",!0)]),(a(),Y(ne,{to:"body"},[e("div",nt,[M(le,{name:"toast"},{default:G(()=>[(a(!0),r(f,null,z(y(w),t=>(a(),Y(ue,{key:t.id,message:t.message,type:t.type,duration:t.duration,onClose:()=>w.value=y(w).filter(R=>R.id!==t.id)},null,8,["message","type","duration","onClose"]))),128))]),_:1})])]))],64))}},dt=ae(it,[["__scopeId","data-v-0304bed5"]]),ut={class:"toast-container w-5/6 fixed top-25 md:top-auto md:bottom-5 right-5 md:w-1/4 flex flex-col-reverse space-y-2"},ct={class:"tile mb-6"},vt={class:"my-3"},pt=["value"],gt={class:"relative w-full multi-select"},ft=["onClick"],bt={key:0,class:"absolute z-10 w-full bg-white dark:bg-[#171131] border border-gray-300 dark:border-gray-800 rounded-md shadow-md max-h-48 overflow-y-auto"},mt=["onMousedown"],ht={key:0,class:"px-3 py-2 text-gray-500 select-none"},kt={class:"flex flex-wrap justify-center md:justify-end lg:justify-end mt-3"},yt=["disabled"],xt={__name:"AddDepartmentSpecialization",emits:["update"],setup(q,{emit:$}){const j=$,{toasts:m,addToast:x}=de(),A=ee(),E=ie(),I=X(),w=d(null);E.getHighSchoolDepartments(A.params.id),I.getHighSchoolExcSpecializations(A.params.id);const h=d(!1),{highSchoolDepartments:D}=J(E),{highSchoolExcSpecializations:U,createDepartmentSpecializationsStatus:T}=J(I),k=d(""),v=d(new Set),_=d(!1),P=L(()=>{const n=k.value.toLowerCase();return U.value.filter(u=>u.name.toLowerCase().includes(n))}),B=async n=>{v.value.has(n.id)?v.value.delete(n.id):v.value.add(n.id),k.value="",await Te(),_.value=!1},g=L(()=>U.value.filter(n=>v.value.has(n.id))),b=n=>{n.target.closest(".multi-select")||(_.value=!1)};Z(()=>{D.value.length>0&&(w.value=D.value[0].id),document.addEventListener("mousedown",b)}),$e(()=>{document.removeEventListener("mousedown",b)});const i=()=>{_.value=!0},H=()=>{const n=Array.from(v.value);n.length!==0&&(console.log(n),h.value=!0,I.createDepartmentSpecialization({high_school:parseInt(A.params.id),department:w.value,specializations:n}).then(()=>{j("update"),v.value.clear(),h.value=!1}))};return K(T,(n,u)=>{n&&(n==="success"?x("Hünärler üstünlikli hasaba alyndy","success"):n==="error"&&x("Hasaba alma prosesinde ýalňyşlyk ýüze çykdy","error")),T.value=null}),K(D,(n,u)=>{n.length>0&&(w.value=n[0].id)}),(n,u)=>(a(),r(f,null,[(a(),Y(ne,{to:"body"},[e("div",ut,[M(le,{name:"toast"},{default:G(()=>[(a(!0),r(f,null,z(y(m),l=>(a(),Y(ue,{key:l.id,message:l.message,type:l.type,duration:l.duration,onClose:()=>m.value=y(m).filter(V=>V.id!==l.id)},null,8,["message","type","duration","onClose"]))),128))]),_:1})])])),e("div",ct,[u[2]||(u[2]=e("h3",{class:"text-xl font-bold mx-2 select-none my-3"},"Täze hünär goşmak",-1)),e("div",vt,[Q(e("select",{class:"w-full border border-gray-300 rounded-md p-2 focus:outline-none","onUpdate:modelValue":u[0]||(u[0]=l=>w.value=l)},[(a(!0),r(f,null,z(y(D),l=>(a(),r("option",{class:"text-gray-600 dark:bg-[#171131ef] dark:text-white",key:l.id,value:l.id},p(l.name)+" kafedrasy",9,pt))),128))],512),[[Me,w.value]])]),e("div",null,[e("div",gt,[e("div",{class:"flex flex-wrap items-center gap-2 border border-gray-300 rounded-md px-2 py-1 cursor-text",onClick:i},[(a(!0),r(f,null,z(g.value,l=>(a(),r("div",{key:l.id,class:"flex items-center bg-blue-100 dark:bg-violet-600 text-blue-700 dark:text-white rounded-md px-2 py-1 text-sm select-none cursor-default"},[F(p(l.name)+" ",1),e("button",{onClick:oe(V=>v.value.delete(l.id),["stop","prevent"]),class:"ml-1 text-blue-700 dark:text-white focus:outline-none select-none"}," ✕ ",8,ft)]))),128)),Q(e("input",{"onUpdate:modelValue":u[1]||(u[1]=l=>k.value=l),type:"text",placeholder:"",class:"flex-1 py-1 focus:outline-none"},null,512),[[re,k.value]])]),M(se,{name:"dropdown"},{default:G(()=>[_.value?(a(),r("ul",bt,[(a(!0),r(f,null,z(P.value,l=>(a(),r("li",{key:l.id,onMousedown:oe(V=>B(l),["prevent"]),class:c({"px-3 py-2 cursor-pointer select-none transition ease-in duration-200":!0,"bg-blue-100 text-blue-700 dark:bg-violet-600/25 dark:text-white":v.value.has(l.id),"hover:bg-blue-50 dark:hover:bg-[#261c52]":!v.value.has(l.id)})},p(l.name),43,mt))),128)),P.value.length===0?(a(),r("li",ht," Maglumat gorunda hünär tapylmady ")):S("",!0)])):S("",!0)]),_:1})])]),e("div",kt,[e("button",{disabled:h.value,onClick:H,class:"flex w-50 px-4 py-2 my-2 justify-center rounded-lg border-none dark:border-violet-500/50 border-1 bg-gradient-to-r from-blue-400 to-blue-500 dark:from-violet-600 dark:to-violet-500 text-white hover:shadow-lg hover:shadow-blue-300/50 hover:ease-in ease-out duration-200 dark:hover:shadow-violet-500/50 select-none"},[M(De,{class:c({hidden:!h.value})},null,8,["class"]),e("span",{class:c({hidden:h.value})},"Hasaba al",2)],8,yt)])])],64))}},wt=ae(xt,[["__scopeId","data-v-04eb227d"]]),_t={class:"w-full"},Ct={class:"w-full"},Ht={__name:"HighSchoolSpecializationsView",setup(q){const $=ee();He();const j=ie(),m=X();Z(()=>{j.getHighSchoolDepartments($.params.id),m.getHighSchoolSpecializations($.params.id)});const x=()=>{m.getHighSchoolSpecializations($.params.id),m.getHighSchoolExcSpecializations($.params.id)};return(A,E)=>(a(),r(f,null,[e("div",_t,[M(wt,{onUpdate:x})]),e("div",Ct,[M(dt,{data:y(m).highSchoolSpecializations,onUpdate:x},null,8,["data"])])],64))}};export{Ht as default};
