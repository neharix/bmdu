import{_ as fe,p as W,E as X,s as ee,r as l,B as L,o as te,b as s,f as a,h as m,g as c,d as o,t as u,w as Y,l as Q,v as ke,F as h,C as T,T as ye,n as d,D as pe,G as he,H as me,i as O,z as Z,j as f,c as q,I as xe,J as we,u as _e,x as Ce}from"./index-CYldoNyA.js";import{u as Me,_ as $e}from"./ConfirmModal-BpMle2rX.js";import{u as Se,T as Le}from"./useToast-BW-kiYHE.js";import{_ as Te}from"./TheBreadcrumb-BGOTtNS9.js";/* empty css                                                     */const Be={class:"w-full rounded-lg shadow-lg"},Pe={class:"pt-1 rounded-t-lg dark:bg-[#171131ef] bg-white"},ze={class:"flex items-center justify-between space-x-2 py-3 px-4"},Ae={class:"flex items-center"},De={id:"dropdown",class:"relative inline-block text-left"},je={class:"absolute left-0 z-10 mt-2 w-24 origin-top-left rounded-md bg-white dark:bg-[#171131ef] shadow-lg ring-1 ring-white dark:ring-gray-800 ring-opacity-5"},Ge={class:"py-1"},He=["value","onClick"],Oe={class:"lg:w-1/3 md:w-1/3 w-2/3 flex items-center space-x-2"},Re=["disabled"],Ee={class:"w-full overflow-x-auto rounded-b-lg"},Ve={class:"w-full min-w-full table-auto bg-white dark:bg-[#171131ef]"},Ie={class:"bg-gray-200 dark:bg-[#211849ef]"},Ne={class:"border-y border-gray-300 dark:border-[#32237cef] px-4 py-2 break-words text-[0.8rem]"},Ke={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},Ue={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},Fe={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},Je={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},We={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},Ye={class:"w-full flex items-center justify-center"},Qe={class:"inline-flex rounded-md shadow-xs",role:"group"},Ze=["onClick"],qe=["onClick"],Xe=["onClick"],et={class:"flex justify-center items-center mt-4 space-x-2 overflow-x-auto"},tt={key:2,class:"px-2 select-none"},ot=["onClick"],rt=["onClick"],st={key:4,class:"px-2 select-none"},at={class:"toast-container w-5/6 fixed top-25 md:top-auto md:bottom-5 right-5 md:w-1/4 flex flex-col-reverse space-y-2"},nt={__name:"HighSchoolsDataTable",props:["data"],emits:["update"],setup(V,{emit:x}){const w=V,_=x;W(w,(r,t)=>{b.value=r.data,M.value=[...b.value]});const{isModalOpen:C,openModal:I,header:B,context:N}=Me(),{toasts:R,addToast:k}=Se(),K=X(),{deleteStatus:U,updateStatus:P,createStatus:z}=ee(K),b=l([]),M=l([]),A=l(null);w.data.length>0&&(b.value=w.data,M.value=[...b.value]);const E=l("p-4 py-2 my-2 rounded-full border-none dark:border-violet-500/50 border-1 bg-blue-500 dark:bg-violet-600 text-white"),D=l("p-4 py-2 my-2 rounded-full border-none bg-gray-200 dark:bg-[#261953]"),i=l("name"),v=l("asc"),n=l(1),$=l(10),oe=[10,20,50,100],j=l(""),G=l(!1),re=()=>{M.value=b.value.filter(r=>r.name.toLowerCase().includes(j.value.toLowerCase())),n.value=1,G.value=!0},se=()=>{j.value="",M.value=[...b.value],n.value=1,G.value=!1},F=L(()=>i.value?[...M.value].sort((r,t)=>r[i.value]<t[i.value]?v.value==="asc"?-1:1:r[i.value]>t[i.value]?v.value==="asc"?1:-1:0):b.value),ae=L(()=>{const r=(n.value-1)*$.value;return F.value.slice(r,r+$.value)}),g=L(()=>Math.ceil(F.value.length/$.value)),y=r=>{r>=1&&r<=g.value&&(n.value=r)},ne=r=>{$.value=parseInt(r,10),n.value=1,S.value=!1},le=L(()=>{const r=Math.max(2,n.value-2);return Array.from({length:Math.max(0,n.value-r)},(t,e)=>r+e)}),de=L(()=>{const r=Math.min(g.value-1,n.value+2);return Array.from({length:Math.max(0,r-n.value)},(t,e)=>n.value+e+1)}),H=r=>{i.value===r?v.value=v.value==="asc"?"desc":"asc":(i.value=r,v.value="asc")},S=l(!1);function ie(){S.value=!S.value}function ue(){S.value=!1}function ce(r){r.target.closest("#dropdown")||ue()}function ve(r,t,e){I(r,t),A.value=e}function ge(){C.value=!1,A.value=null}function be(){C.value=!1,K.delete(A.value).then(()=>{_("update")}),A.value=null}return W(U,(r,t)=>{r&&(r==="success"?k("Ýokary okuw mekdebi üstünlikli ýok edildi","success"):r==="error"&&k("Ýok etme prosesinde ýalňyşlyk ýüze çykdy","error")),U.value=null}),te(()=>{P.value&&(P.value==="success"?k("Ýokary okuw mekdebi üstünlikli üýtgedildi","success"):P.value==="error"&&k("Üýtgetme prosesinde ýalňyşlyk ýüze çykdy","error")),P.value=null,z.value&&(z.value==="success"?k("Ýokary okuw mekdebi üstünlikli hasaba alyndy","success"):z.value==="error"&&k("Hasaba alma prosesinde ýalňyşlyk ýüze çykdy","error")),z.value=null}),window.addEventListener("click",ce),(r,t)=>(s(),a(h,null,[m($e,{"is-open":c(C),onClose:ge,onSubmit:be,header:c(B),context:`"${c(N)}" ýok edilmegini tassyklaýarsyňyzmy?`},null,8,["is-open","header","context"]),o("div",Be,[o("div",Pe,[o("div",ze,[o("div",Ae,[o("div",De,[o("div",null,[o("button",{onClick:ie,type:"button",class:"inline-flex transition duration-200 ease-in w-full justify-center rounded-md border border-gray-300 dark:border-gray-800 bg-white dark:bg-[#171131ef] dark:text-gray-200 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 dark:hover:bg-[#32237cef] focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-[#32237cef] focus:ring-offset-2 focus:ring-offset-gray-100 dark:focus:ring-offset-[#32237cef] select-none"}," Setir sany: "+u($.value),1)]),m(ye,{name:"fade-scale",onBeforeEnter:t[0]||(t[0]=e=>e.style.display="block"),onAfterLeave:t[1]||(t[1]=e=>e.style.display="none")},{default:Y(()=>[Q(o("div",je,[o("div",Ge,[(s(),a(h,null,T(oe,e=>o("button",{key:e,value:e,onClick:p=>ne(e),class:"w-full text-start text-gray-700 dark:text-gray-200 block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-[#32237cef] select-none"},u(e)+" setir ",9,He)),64))])],512),[[ke,S.value]])]),_:1})])]),o("div",Oe,[o("button",{onClick:se,class:d([{"opacity-0":!G.value},"p-2 text-sm rounded-xl shadow-md border-none dark:border-violet-500/50 border-1 bg-blue-500 dark:bg-violet-600 text-white"]),disabled:!G.value},t[11]||(t[11]=[pe('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="w-6 h-6" viewBox="0 0 24 24" version="1.1" data-v-e3132ba5><title data-v-e3132ba5>Reload</title><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-e3132ba5><g id="Reload" data-v-e3132ba5><rect id="Rectangle" fill-rule="nonzero" x="0" y="0" width="24" height="24" data-v-e3132ba5></rect><path d="M4,13 C4,17.4183 7.58172,21 12,21 C16.4183,21 20,17.4183 20,13 C20,8.58172 16.4183,5 12,5 C10.4407,5 8.98566,5.44609 7.75543,6.21762" id="Path" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-e3132ba5></path><path d="M9.2384,1.89795 L7.49856,5.83917 C7.27552,6.34441 7.50429,6.9348 8.00954,7.15784 L11.9508,8.89768" id="Path" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-e3132ba5></path></g></g></svg>',1)]),10,Re),Q(o("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>j.value=e),type:"text",onKeyup:me(re,["enter"]),placeholder:"Gözleg",class:"w-full dark:text-gray-300 transition duration-200 ease-in bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none"},null,544),[[he,j.value]])])])]),o("div",Ee,[o("table",Ve,[o("thead",Ie,[o("tr",null,[t[16]||(t[16]=o("th",{class:"border-y border-gray-300 dark:border-[#171131ef] p-3 select-none text-left text-[0.8rem]"}," T/B ",-1)),o("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[3]||(t[3]=e=>H("name"))},[t[12]||(t[12]=O(" ÝOKARY OKUW MEKDEBI ")),o("span",{class:d([i.value==="name"?v.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),o("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[4]||(t[4]=e=>H("students_count"))},[t[13]||(t[13]=O(" JEMI ")),o("span",{class:d([i.value==="students_count"?v.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),o("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[5]||(t[5]=e=>H("male_count"))},[t[14]||(t[14]=O(" OGLAN ")),o("span",{class:d([i.value==="male_count"?v.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),o("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[6]||(t[6]=e=>H("female_count"))},[t[15]||(t[15]=O(" GYZ ")),o("span",{class:d([i.value==="female_count"?v.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),t[17]||(t[17]=o("th",{class:"border-y border-gray-300 dark:border-[#171131ef] p-3 select-none text-center text-[0.8rem]"}," GURALLAR ",-1))])]),o("tbody",null,[(s(!0),a(h,null,T(ae.value,(e,p)=>(s(),a("tr",{key:e.id,class:"transition ease-in hover:ease-out duration-200 hover:bg-gray-100 dark:hover:bg-[#261953]"},[o("td",Ne,u(p+1),1),o("td",Ke,u(e.name),1),o("td",Ue,u(e.students_count),1),o("td",Fe,u(e.male_count),1),o("td",Je,u(e.female_count),1),o("td",We,[o("div",Ye,[o("div",Qe,[(s(),a("button",{type:"button",key:e.id,onClick:J=>c(Z).push(`/high-schools/edit/${e.id}`),class:"px-4 py-2 text-[0.8rem] font-medium bg-emerald-400 hover:bg-emerald-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-emerald-700 border border-gray-200 rounded-s-lg focus:z-10 focus:ring-2 focus:ring-emerald-500 dark:border-gray-700 select-none"}," Üýtgetmek ",8,Ze)),(s(),a("button",{type:"button",key:e.id,onClick:J=>c(Z).push(`/high-schools/view/${e.id}`),class:"px-4 py-2 text-[0.8rem] font-medium bg-violet-400 hover:bg-violet-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-violet-700 border border-gray-200 focus:z-10 focus:ring-2 focus:ring-violet-500 dark:border-gray-700 select-none"}," Görmek ",8,qe)),(s(),a("button",{type:"button",key:e.id,onClick:J=>ve("Ýok etmek",e.name,e.id),class:"px-4 py-2 text-[0.8rem] font-medium bg-red-400 hover:bg-red-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-pink-900 dark:hover:bg-pink-600 border border-gray-200 rounded-e-lg focus:z-10 focus:ring-2 focus:ring-red-500 dark:border-gray-700 dark:focus:ring-pink-500 select-none"}," Pozmak ",8,Xe))])])])]))),128))])])])]),o("div",et,[n.value!==1?(s(),a("button",{key:0,class:d(["select-none",E.value]),onClick:t[7]||(t[7]=e=>y(n.value-1))},t[18]||(t[18]=[o("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M13 8L9 12M9 12L13 16M9 12H21M19.4845 7C17.8699 4.58803 15.1204 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C15.1204 21 17.8699 19.412 19.4845 17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2)):f("",!0),n.value>3?(s(),a("button",{key:1,class:d(["select-none",D.value]),onClick:t[8]||(t[8]=e=>y(1))}," 1 ",2)):f("",!0),n.value>4?(s(),a("span",tt,"...")):f("",!0),(s(!0),a(h,null,T(le.value,e=>(s(),a("button",{class:d(["select-none",D.value]),key:"before-"+e,onClick:p=>y(e)},u(e),11,ot))),128)),g.value!==0?(s(),a("button",{key:3,class:d(["select-none",E.value])},u(n.value),3)):f("",!0),(s(!0),a(h,null,T(de.value,e=>(s(),a("button",{class:d(["select-none",D.value]),key:"after-"+e,onClick:p=>y(e)},u(e),11,rt))),128)),n.value<g.value-3?(s(),a("span",st,"...")):f("",!0),n.value<g.value-2?(s(),a("button",{key:5,class:d(["select-none",D.value]),onClick:t[9]||(t[9]=e=>y(g.value))},u(g.value),3)):f("",!0),n.value!==g.value&&g.value!==0?(s(),a("button",{key:6,class:d(["select-none",E.value]),onClick:t[10]||(t[10]=e=>y(n.value+1))},t[19]||(t[19]=[o("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M11 16L15 12M15 12L11 8M15 12H3M4.51555 17C6.13007 19.412 8.87958 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C8.87958 3 6.13007 4.58803 4.51555 7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2)):f("",!0)]),(s(),q(we,{to:"body"},[o("div",at,[m(xe,{name:"toast"},{default:Y(()=>[(s(!0),a(h,null,T(c(R),e=>(s(),q(Le,{key:e.id,message:e.message,type:e.type,duration:e.duration,onClose:()=>R.value=c(R).filter(p=>p.id!==e.id)},null,8,["message","type","duration","onClose"]))),128))]),_:1})])]))],64))}},lt=fe(nt,[["__scopeId","data-v-e3132ba5"]]),dt={class:"w-full"},it={key:0,class:"flex w-full h-[58vh] items-center justify-center dark:bg-[#171131ef] bg-white rounded-lg border border-gray-200 dark:border-[#36314e]"},ut={key:1},kt={__name:"HighSchoolsListView",setup(V){const x=X(),{highSchools:w}=ee(x),_=_e();te(()=>{_.isLoading=!0,x.getAllAdditional().then(()=>{_.isLoading=!1})});const C=[{path:"/high-schools",name:"Ýokary okuw mekdepleri"},{path:"/high-schools/add",name:"Goşmak"}];return(I,B)=>(s(),a("div",dt,[m(Te,{paths:C}),c(_).isLoading?(s(),a("div",it,[m(Ce,{class:"w-24"})])):(s(),a("div",ut,[m(lt,{data:c(w),onUpdate:B[0]||(B[0]=N=>c(x).getAllAdditional())},null,8,["data"])]))]))}};export{kt as default};
