import{_ as ke,p as W,k as te,Q as re,s as I,r as c,z,o as oe,b as s,g as a,h as j,u as i,e as r,t as u,w as Z,l as X,v as ye,F as m,A as S,T as me,n as l,B as he,D as xe,E as we,i as h,j as v,x as ee,c as K,G as _e,H as Ce}from"./index-CxU83Qru.js";import{_ as Me}from"./TheBreadcrumb-DOlKxSwc.js";import{u as ze,_ as Se}from"./useModalWindow-YBdBHNYD.js";import{u as $e,T as Ae}from"./useToast-BD7xrvgK.js";/* empty css                                                     */const Te={class:"w-full rounded-lg shadow-lg"},Le={class:"pt-1 rounded-t-lg dark:bg-[#171131ef] bg-white"},Pe={class:"flex items-center justify-between space-x-2 py-3 px-4"},Be={class:"flex items-center"},Re={id:"dropdown",class:"relative inline-block text-left"},De={class:"absolute left-0 z-10 mt-2 w-24 origin-top-left rounded-md bg-white dark:bg-[#171131ef] shadow-lg ring-1 ring-white dark:ring-gray-800 ring-opacity-5"},He={class:"py-1"},Ge=["value","onClick"],je={class:"lg:w-1/3 md:w-1/3 w-2/3 flex items-center space-x-2"},Ne=["disabled"],Oe={class:"w-full overflow-x-auto rounded-b-lg"},Ve={class:"w-full min-w-full table-auto bg-white dark:bg-[#171131ef]"},Ee={class:"bg-gray-200 dark:bg-[#211849ef]"},Ie={key:1,class:"border-y border-gray-300 dark:border-[#171131ef] p-3 select-none text-center text-[0.8rem]"},Ke={class:"border-y border-gray-300 dark:border-[#32237cef] px-4 py-2 break-words text-[0.8rem]"},Fe={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},Ue={key:0,class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},Ye={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},Qe={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},qe={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},Je={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},We={key:1,class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},Ze={class:"w-full flex items-center justify-center"},Xe={class:"inline-flex rounded-md shadow-xs",role:"group"},et=["onClick"],tt=["onClick"],rt=["onClick"],ot={class:"flex justify-center items-center mt-4 space-x-2 overflow-x-auto"},st={key:2,class:"px-2 select-none"},at=["onClick"],nt=["onClick"],lt={key:4,class:"px-2 select-none"},it={class:"toast-container w-5/6 fixed top-25 md:top-auto md:bottom-5 right-5 md:w-1/4 flex flex-col-reverse space-y-2"},dt={__name:"SpecializationsDataTable",props:["data"],emits:["update"],setup(F,{emit:N}){const x=F,O=N;W(x,(o,t)=>{_.value=o.data,B.value=[..._.value]});const{isModalOpen:w,openModal:V,header:U,context:$}=ze(),{toasts:A,addToast:g}=$e(),T=te(),Y=re(),{deleteStatus:Q,updateStatus:L,createStatus:P}=I(Y),_=c([]),B=c([]),R=c(null),E=c("p-4 py-2 my-2 rounded-full border-none dark:border-violet-500/50 border-1 bg-blue-500 dark:bg-violet-600 text-white"),D=c("p-4 py-2 my-2 rounded-full border-none bg-gray-200 dark:bg-[#261953]"),d=c("name"),b=c("asc"),n=c(1),C=c(10),se=[10,20,50,100],H=c(""),G=c(!1),ae=()=>{B.value=_.value.filter(o=>o.name.toLowerCase().includes(H.value.toLowerCase())),n.value=1,G.value=!0},ne=()=>{H.value="",B.value=[..._.value],n.value=1,G.value=!1},q=z(()=>d.value?[...B.value].sort((o,t)=>o[d.value]<t[d.value]?b.value==="asc"?-1:1:o[d.value]>t[d.value]?b.value==="asc"?1:-1:0):_.value),le=z(()=>{const o=(n.value-1)*C.value;return q.value.slice(o,o+C.value)}),f=z(()=>Math.ceil(q.value.length/C.value)),p=o=>{o>=1&&o<=f.value&&(n.value=o)},ie=o=>{C.value=parseInt(o,10),n.value=1,M.value=!1},de=z(()=>{const o=Math.max(2,n.value-2);return Array.from({length:Math.max(0,n.value-o)},(t,e)=>o+e)}),ue=z(()=>{const o=Math.min(f.value-1,n.value+2);return Array.from({length:Math.max(0,o-n.value)},(t,e)=>n.value+e+1)}),k=o=>{d.value===o?b.value=b.value==="asc"?"desc":"asc":(d.value=o,b.value="asc")},M=c(!1);function ce(){M.value=!M.value}function ve(){M.value=!1}function be(o){o.target.closest("#dropdown")||ve()}function fe(o,t,e){V(o,t),R.value=e}function ge(){w.value=!1,R.value=null}function pe(){w.value=!1,Y.delete(R.value).then(()=>{O("update")}),R.value=null}return W(Q,(o,t)=>{o&&(o==="success"?g("Hünar üstünlikli ýok edildi","success"):o==="error"&&g("Ýok etme prosesinde ýalňyşlyk ýüze çykdy","error")),Q.value=null}),oe(()=>{L.value&&(L.value==="success"?g("Hünär üstünlikli üýtgedildi","success"):L.value==="error"&&g("Üýtgetme prosesinde ýalňyşlyk ýüze çykdy","error")),L.value=null,P.value&&(P.value==="success"?g("Hünär üstünlikli hasaba alyndy","success"):P.value==="error"&&g("Hasaba alma prosesinde ýalňyşlyk ýüze çykdy","error")),P.value=null}),window.addEventListener("click",be),(o,t)=>(s(),a(m,null,[j(Se,{"is-open":i(w),onClose:ge,onSubmit:pe,header:i(U),context:`"${i($)}" ýok edilmegini tassyklaýarsyňyzmy?`},null,8,["is-open","header","context"]),r("div",Te,[r("div",Le,[r("div",Pe,[r("div",Be,[r("div",Re,[r("div",null,[r("button",{onClick:ce,type:"button",class:"inline-flex transition duration-200 ease-in w-full justify-center rounded-md border border-gray-300 dark:border-gray-800 bg-white dark:bg-[#171131ef] dark:text-gray-200 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 dark:hover:bg-[#32237cef] focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-[#32237cef] focus:ring-offset-2 focus:ring-offset-gray-100 dark:focus:ring-offset-[#32237cef] select-none"}," Setir sany: "+u(C.value),1)]),j(me,{name:"fade-scale",onBeforeEnter:t[0]||(t[0]=e=>e.style.display="block"),onAfterLeave:t[1]||(t[1]=e=>e.style.display="none")},{default:Z(()=>[X(r("div",De,[r("div",He,[(s(),a(m,null,S(se,e=>r("button",{key:e,value:e,onClick:y=>ie(e),class:"w-full text-start text-gray-700 dark:text-gray-200 block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-[#32237cef] select-none"},u(e)+" setir ",9,Ge)),64))])],512),[[ye,M.value]])]),_:1})])]),r("div",je,[r("button",{onClick:ne,class:l([{"opacity-0":!G.value},"p-2 text-sm rounded-xl shadow-md border-none dark:border-violet-500/50 border-1 bg-blue-500 dark:bg-violet-600 text-white"]),disabled:!G.value},t[13]||(t[13]=[he('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="w-6 h-6" viewBox="0 0 24 24" version="1.1" data-v-3198e5d4><title data-v-3198e5d4>Reload</title><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-3198e5d4><g id="Reload" data-v-3198e5d4><rect id="Rectangle" fill-rule="nonzero" x="0" y="0" width="24" height="24" data-v-3198e5d4></rect><path d="M4,13 C4,17.4183 7.58172,21 12,21 C16.4183,21 20,17.4183 20,13 C20,8.58172 16.4183,5 12,5 C10.4407,5 8.98566,5.44609 7.75543,6.21762" id="Path" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-3198e5d4></path><path d="M9.2384,1.89795 L7.49856,5.83917 C7.27552,6.34441 7.50429,6.9348 8.00954,7.15784 L11.9508,8.89768" id="Path" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-3198e5d4></path></g></g></svg>',1)]),10,Ne),X(r("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>H.value=e),type:"text",onKeyup:we(ae,["enter"]),placeholder:"Gözleg",class:"w-full dark:text-gray-300 transition duration-200 ease-in bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none"},null,544),[[xe,H.value]])])])]),r("div",Oe,[r("table",Ve,[r("thead",Ee,[r("tr",null,[t[20]||(t[20]=r("th",{class:"border-y border-gray-300 dark:border-[#171131ef] p-3 select-none text-left text-[0.8rem]"}," T/B ",-1)),r("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[3]||(t[3]=e=>k("name"))},[t[14]||(t[14]=h(" HÜNÄR ")),r("span",{class:l([d.value==="name"?b.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),i(T).user.is_superuser?v("",!0):(s(),a("th",{key:0,class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[4]||(t[4]=e=>k("department"))},[t[15]||(t[15]=h(" KAFEDRASY ")),r("span",{class:l([d.value==="department"?b.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)])),r("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[5]||(t[5]=e=>k("classificator"))},[t[16]||(t[16]=h(" KLASSIFIKATORY ")),r("span",{class:l([d.value==="classificator"?b.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),r("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[6]||(t[6]=e=>k("students_count"))},[t[17]||(t[17]=h(" JEMI ")),r("span",{class:l([d.value==="students_count"?b.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),r("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[7]||(t[7]=e=>k("male_count"))},[t[18]||(t[18]=h(" OGLAN ")),r("span",{class:l([d.value==="male_count"?b.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),r("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[8]||(t[8]=e=>k("female_count"))},[t[19]||(t[19]=h(" GYZ ")),r("span",{class:l([d.value==="female_count"?b.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),i(T).user.is_superuser?(s(),a("th",Ie," GURALLAR ")):v("",!0)])]),r("tbody",null,[(s(!0),a(m,null,S(le.value,(e,y)=>(s(),a("tr",{key:e.id,class:"transition ease-in hover:ease-out duration-200 hover:bg-gray-100 dark:hover:bg-[#261953]"},[r("td",Ke,u(y+1),1),r("td",Fe,u(e.name),1),i(T).user.is_superuser?v("",!0):(s(),a("td",Ue,u(e.department),1)),r("td",Ye,[r("span",{class:l(["py-2 px-3 transition duration-200 ease-out select-none rounded-lg",{"hover:bg-red-500 dark:hover:bg-pink-900 hover:text-white":e.classificator==="Ýok","hover:bg-emerald-500 dark:hover:bg-emerald-700 hover:text-white":e.classificator!=="Ýok"}])},u(e.classificator),3)]),r("td",Qe,u(e.students_count),1),r("td",qe,u(e.male_count),1),r("td",Je,u(e.female_count),1),i(T).user.is_superuser?(s(),a("td",We,[r("div",Ze,[r("div",Xe,[(s(),a("button",{type:"button",key:e.id,onClick:J=>i(ee).push(`/specializations/edit/${e.id}`),class:"px-4 py-2 text-[0.8rem] font-medium bg-emerald-400 hover:bg-emerald-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-emerald-700 border border-gray-200 rounded-s-lg focus:z-10 focus:ring-2 focus:ring-emerald-500 dark:border-gray-700 select-none"}," Üýtgetmek ",8,et)),(s(),a("button",{type:"button",key:e.id,onClick:J=>i(ee).push({name:"students-list",query:{specialization:e.id}}),class:"px-4 py-2 text-[0.8rem] font-medium bg-violet-400 hover:bg-violet-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-violet-700 border border-gray-200 focus:z-10 focus:ring-2 focus:ring-violet-500 dark:border-gray-700 select-none"}," Görmek ",8,tt)),(s(),a("button",{type:"button",key:e.id,onClick:J=>fe("Ýok etmek",e.name,e.id),class:"px-4 py-2 text-[0.8rem] font-medium bg-red-400 hover:bg-red-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-pink-900 dark:hover:bg-pink-600 border border-gray-200 rounded-e-lg focus:z-10 focus:ring-2 focus:ring-red-500 dark:border-gray-700 dark:focus:ring-pink-500 select-none"}," Pozmak ",8,rt))])])])):v("",!0)]))),128))])])])]),r("div",ot,[n.value!==1?(s(),a("button",{key:0,class:l(["select-none",E.value]),onClick:t[9]||(t[9]=e=>p(n.value-1))},t[21]||(t[21]=[r("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M13 8L9 12M9 12L13 16M9 12H21M19.4845 7C17.8699 4.58803 15.1204 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C15.1204 21 17.8699 19.412 19.4845 17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2)):v("",!0),n.value>3?(s(),a("button",{key:1,class:l(["select-none",D.value]),onClick:t[10]||(t[10]=e=>p(1))}," 1 ",2)):v("",!0),n.value>4?(s(),a("span",st,"...")):v("",!0),(s(!0),a(m,null,S(de.value,e=>(s(),a("button",{class:l(["select-none",D.value]),key:"before-"+e,onClick:y=>p(e)},u(e),11,at))),128)),f.value!==0?(s(),a("button",{key:3,class:l(["select-none",E.value])},u(n.value),3)):v("",!0),(s(!0),a(m,null,S(ue.value,e=>(s(),a("button",{class:l(["select-none",D.value]),key:"after-"+e,onClick:y=>p(e)},u(e),11,nt))),128)),n.value<f.value-3?(s(),a("span",lt,"...")):v("",!0),n.value<f.value-2?(s(),a("button",{key:5,class:l(D.value),onClick:t[11]||(t[11]=e=>p(f.value))},u(f.value),3)):v("",!0),n.value!==f.value&&f.value!==0?(s(),a("button",{key:6,class:l(["select-none",E.value]),onClick:t[12]||(t[12]=e=>p(n.value+1))},t[22]||(t[22]=[r("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M11 16L15 12M15 12L11 8M15 12H3M4.51555 17C6.13007 19.412 8.87958 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C8.87958 3 6.13007 4.58803 4.51555 7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2)):v("",!0)]),(s(),K(Ce,{to:"body"},[r("div",it,[j(_e,{name:"toast"},{default:Z(()=>[(s(!0),a(m,null,S(i(A),e=>(s(),K(Ae,{key:e.id,message:e.message,type:e.type,duration:e.duration,onClose:()=>A.value=i(A).filter(y=>y.id!==e.id)},null,8,["message","type","duration","onClose"]))),128))]),_:1})])]))],64))}},ut=ke(dt,[["__scopeId","data-v-3198e5d4"]]),ct={class:"w-full"},kt={__name:"SpecializationsListView",setup(F){const N=te(),x=re(),{specializationsAdditional:O}=I(x),{user:w}=I(N);oe(()=>{x.getAllAdditional()});const V=[{path:"/specializations",name:"Hünärler"},{path:"/specializations/add",name:"Goşmak"}];return(U,$)=>(s(),a("div",ct,[i(w).is_superuser?(s(),K(Me,{key:0,paths:V})):v("",!0),j(ut,{data:i(O),onUpdate:$[0]||($[0]=A=>i(x).getAllAdditional())},null,8,["data"])]))}};export{kt as default};
