import{_ as le,p as E,K as te,r as p,A as T,b as s,f as n,h as g,g as i,d as e,t as u,w as k,l as ne,v as de,F as y,B as H,T as ie,i as D,n as c,j as m,c as G,H as re,I as oe,k as ge,s as pe,Y as be,L,C as fe,J as me,x as ke}from"./index-DnGSU1Bb.js";import{F as ye,a as he}from"./vee-validate-BYcuJCV7.js";import{c as we,d as xe}from"./index.esm-CwhLbS5k.js";import{u as se,T as ae}from"./useToast-DKLkbWQx.js";import{_ as _e}from"./TheBreadcrumb-B0lWjjPw.js";import{u as ue,_ as ce}from"./useModalWindow-Bwp873Hd.js";/* empty css                                                                                          */import{_ as Ve}from"./VerdictBtnsGroup-iGqWOmD3.js";/* empty css                                                     */const Me={class:"w-full rounded-lg shadow-lg"},Ce={class:"pt-1 rounded-t-lg dark:bg-[#171131ef] bg-white"},$e={class:"flex items-center justify-between space-x-2 py-3 px-4"},He={class:"flex items-center"},Ae={id:"dropdown",class:"relative inline-block text-left"},De={class:"absolute left-0 z-10 mt-2 w-24 origin-top-left rounded-md bg-white dark:bg-[#171131ef] shadow-lg ring-1 ring-white dark:ring-gray-800 ring-opacity-5"},Te={class:"py-1"},je=["value","onClick"],Be={class:"w-full overflow-x-auto rounded-b-lg"},Pe={class:"w-full min-w-full table-auto bg-white dark:bg-[#171131ef]"},qe={class:"bg-gray-200 dark:bg-[#211849ef]"},Se={class:"border-y border-gray-300 dark:border-[#32237cef] px-4 py-2 break-words text-[0.8rem]"},Re={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},Le={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},Ie={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},Ye={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},Ge={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},Oe={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},ze={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},Ne={key:0,class:"w-full flex items-center justify-center"},Ue={key:1,class:"w-full flex items-center justify-center"},Ee={class:"inline-flex rounded-md shadow-xs",role:"group"},Fe=["onClick"],We={class:"flex justify-center items-center mt-4 space-x-2 overflow-x-auto"},Je={key:2,class:"px-2 select-none"},Ke=["onClick"],Qe=["onClick"],Xe={key:4,class:"px-2 select-none"},Ze={class:"toast-container w-5/6 fixed top-25 md:top-auto md:bottom-5 right-5 md:w-1/4 flex flex-col-reverse space-y-2"},et={__name:"HighSchoolDiplomaReportsDataTable",props:["data"],emits:["update"],setup(N,{emit:_}){const I=N,S=_;E(I,(l,t)=>{B.value=l.data,P.value=[...B.value]});const{isModalOpen:j,openModal:V,header:v,context:Y}=ue(),{toasts:h,addToast:U}=se(),R=te(),B=p([]),P=p([]),M=p(null),A=p("p-4 py-2 my-2 rounded-full border-none dark:border-violet-500/50 border-1 bg-blue-500 dark:bg-violet-600 text-white"),C=p("p-4 py-2 my-2 rounded-full border-none bg-gray-200 dark:bg-[#261953]"),d=p("request_date"),o=p("asc"),a=p(1),b=p(10),O=[10,20,50,100],z=T(()=>d.value?[...P.value].sort((l,t)=>l[d.value]<t[d.value]?o.value==="asc"?-1:1:l[d.value]>t[d.value]?o.value==="asc"?1:-1:0):B.value),F=T(()=>{const l=(a.value-1)*b.value;return z.value.slice(l,l+b.value)}),f=T(()=>Math.ceil(z.value.length/b.value)),w=l=>{l>=1&&l<=f.value&&(a.value=l)},W=l=>{b.value=parseInt(l,10),a.value=1,q.value=!1},J=T(()=>{const l=Math.max(2,a.value-2);return Array.from({length:Math.max(0,a.value-l)},(t,r)=>l+r)}),K=T(()=>{const l=Math.min(f.value-1,a.value+2);return Array.from({length:Math.max(0,l-a.value)},(t,r)=>a.value+r+1)}),$=l=>{d.value===l?o.value=o.value==="asc"?"desc":"asc":(d.value=l,o.value="asc")},q=p(!1);function Q(){q.value=!q.value}function X(l,t,r){V(l,t),M.value=r}function Z(){j.value=!1,M.value=null}function ee(){j.value=!1,R.submitReport(M.value).then(()=>{S("update")}),M.value=null}return(l,t)=>(s(),n(y,null,[g(ce,{"is-open":i(j),onClose:Z,onSubmit:ee,header:i(v),context:`${i(Y)} arzasyny tassyklaýarsyňyzmy?`},null,8,["is-open","header","context"]),e("div",Me,[e("div",Ce,[e("div",$e,[e("div",He,[e("div",Ae,[e("div",null,[e("button",{onClick:Q,type:"button",class:"inline-flex transition duration-200 ease-in w-full justify-center rounded-md border border-gray-300 dark:border-gray-800 bg-white dark:bg-[#171131ef] dark:text-gray-200 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 dark:hover:bg-[#32237cef] focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-[#32237cef] focus:ring-offset-2 focus:ring-offset-gray-100 dark:focus:ring-offset-[#32237cef] select-none"}," Setir sany: "+u(b.value),1)]),g(ie,{name:"fade-scale",onBeforeEnter:t[0]||(t[0]=r=>r.style.display="block"),onAfterLeave:t[1]||(t[1]=r=>r.style.display="none")},{default:k(()=>[ne(e("div",De,[e("div",Te,[(s(),n(y,null,H(O,r=>e("button",{key:r,value:r,onClick:x=>W(r),class:"w-full text-start text-gray-700 dark:text-gray-200 block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-[#32237cef] select-none"},u(r)+" setir ",9,je)),64))])],512),[[de,q.value]])]),_:1})])]),t[12]||(t[12]=e("div",null,[e("h4",{class:"font-bold select-none"},"HASABATLAR")],-1))])]),e("div",Be,[e("table",Pe,[e("thead",qe,[e("tr",null,[t[19]||(t[19]=e("th",{class:"border-y border-gray-300 dark:border-[#171131ef] p-3 select-none text-left text-[0.8rem]"}," T/B ",-1)),e("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[2]||(t[2]=r=>$("sender"))},[t[13]||(t[13]=D(" UGRADYJY ")),e("span",{class:c([d.value==="sender"?o.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),e("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[3]||(t[3]=r=>$("two_year_work_off"))},[t[14]||(t[14]=D(" IKI ÝYL IŞ ")),e("span",{class:c([d.value==="two_year_work_off"?o.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),e("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[4]||(t[4]=r=>$("died"))},[t[15]||(t[15]=D(" ÝOGALAN ")),e("span",{class:c([d.value==="died"?o.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),e("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[5]||(t[5]=r=>$("went_abroad"))},[t[16]||(t[16]=D(" DAŞARY ÝURDA GIDEN ")),e("span",{class:c([d.value==="went_abroad"?o.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),e("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[6]||(t[6]=r=>$("other_reasons"))},[t[17]||(t[17]=D(" GAÝRY SEBÄPLER ")),e("span",{class:c([d.value==="other_reasons"?o.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),e("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[7]||(t[7]=r=>$("request_date"))},[t[18]||(t[18]=D(" WAGTY ")),e("span",{class:c([d.value==="request_date"?o.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),t[20]||(t[20]=e("th",{class:"border-y border-gray-300 dark:border-[#171131ef] p-3 select-none text-center text-[0.8rem]"}," GURALLAR ",-1))])]),e("tbody",null,[(s(!0),n(y,null,H(F.value,(r,x)=>(s(),n("tr",{key:r.id,class:"transition ease-in hover:ease-out duration-200 hover:bg-gray-100 dark:hover:bg-[#261953]"},[e("td",Se,u(x+1),1),e("td",Re,u(r.sender),1),e("td",Le,u(r.two_year_work_off),1),e("td",Ie,u(r.died),1),e("td",Ye,u(r.went_abroad),1),e("td",Ge,u(r.other_reasons),1),e("td",Oe,u(r.request_date),1),e("td",ze,[r.verdict==="C"?(s(),n("div",Ne,t[21]||(t[21]=[e("div",{class:"inline-flex rounded-md shadow-xs",role:"group"},[e("div",{class:"px-4 py-2 text-[0.8rem] font-medium bg-emerald-600 transition ease-in hover:ease-out duration-200 text-white dark:bg-emerald-700 border border-gray-200 rounded-lg dark:border-gray-700 select-none"}," Tassyklandy ")],-1)]))):(s(),n("div",Ue,[e("div",Ee,[e("button",{type:"button",onClick:ve=>X("Tassyklamak",r.sender,r.id),class:"px-4 py-2 text-[0.8rem] font-medium bg-emerald-400 hover:bg-emerald-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-emerald-700 border border-gray-200 rounded-lg focus:z-10 focus:ring-2 focus:ring-emerald-500 dark:border-gray-700 select-none"}," Tassyklamak ",8,Fe)])]))])]))),128))])])])]),e("div",We,[a.value!==1?(s(),n("button",{key:0,class:c(["select-none",A.value]),onClick:t[8]||(t[8]=r=>w(a.value-1))},t[22]||(t[22]=[e("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M13 8L9 12M9 12L13 16M9 12H21M19.4845 7C17.8699 4.58803 15.1204 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C15.1204 21 17.8699 19.412 19.4845 17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2)):m("",!0),a.value>3?(s(),n("button",{key:1,class:c(["select-none",C.value]),onClick:t[9]||(t[9]=r=>w(1))}," 1 ",2)):m("",!0),a.value>4?(s(),n("span",Je,"...")):m("",!0),(s(!0),n(y,null,H(J.value,r=>(s(),n("button",{class:c(["select-none",C.value]),key:"before-"+r,onClick:x=>w(r)},u(r),11,Ke))),128)),f.value!==0?(s(),n("button",{key:3,class:c(["select-none",A.value])},u(a.value),3)):m("",!0),(s(!0),n(y,null,H(K.value,r=>(s(),n("button",{class:c(["select-none",C.value]),key:"after-"+r,onClick:x=>w(r)},u(r),11,Qe))),128)),a.value<f.value-3?(s(),n("span",Xe,"...")):m("",!0),a.value<f.value-2?(s(),n("button",{key:5,class:c(C.value),onClick:t[10]||(t[10]=r=>w(f.value))},u(f.value),3)):m("",!0),a.value!==f.value&&f.value!==0?(s(),n("button",{key:6,class:c(["select-none",A.value]),onClick:t[11]||(t[11]=r=>w(a.value+1))},t[23]||(t[23]=[e("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M11 16L15 12M15 12L11 8M15 12H3M4.51555 17C6.13007 19.412 8.87958 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C8.87958 3 6.13007 4.58803 4.51555 7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2)):m("",!0)]),(s(),G(oe,{to:"body"},[e("div",Ze,[g(re,{name:"toast"},{default:k(()=>[(s(!0),n(y,null,H(i(h),r=>(s(),G(ae,{key:r.id,message:r.message,type:r.type,duration:r.duration,onClose:()=>h.value=i(h).filter(x=>x.id!==r.id)},null,8,["message","type","duration","onClose"]))),128))]),_:1})])]))],64))}},tt=le(et,[["__scopeId","data-v-ddadcb7f"]]),rt={class:"w-full rounded-lg shadow-lg"},ot={class:"pt-1 rounded-t-lg dark:bg-[#171131ef] bg-white"},st={class:"flex items-center justify-between space-x-2 py-3 px-4"},at={class:"flex items-center"},lt={id:"dropdown",class:"relative inline-block text-left"},nt={class:"absolute left-0 z-10 mt-2 w-24 origin-top-left rounded-md bg-white dark:bg-[#171131ef] shadow-lg ring-1 ring-white dark:ring-gray-800 ring-opacity-5"},dt={class:"py-1"},it=["value","onClick"],ut={class:"w-full overflow-x-auto rounded-b-lg"},ct={class:"w-full min-w-full table-auto bg-white dark:bg-[#171131ef]"},vt={class:"bg-gray-200 dark:bg-[#211849ef]"},gt={class:"border-y border-gray-300 dark:border-[#32237cef] px-4 py-2 break-words text-[0.8rem]"},pt={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},bt={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},ft={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},mt={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},kt={class:"border-y border-gray-300 dark:border-[#32237cef] p-2 break-words text-[0.8rem]"},yt={key:0,class:"w-full flex items-center justify-center"},ht={key:1,class:"w-full flex items-center justify-center"},wt={class:"inline-flex rounded-md shadow-xs",role:"group"},xt=["onClick"],_t={class:"flex justify-center items-center mt-4 space-x-2 overflow-x-auto"},Vt={key:2,class:"px-2 select-none"},Mt=["onClick"],Ct=["onClick"],$t={key:4,class:"px-2 select-none"},Ht={class:"toast-container w-5/6 fixed top-25 md:top-auto md:bottom-5 right-5 md:w-1/4 flex flex-col-reverse space-y-2"},At={__name:"HighSchoolDiplomaActionsDataTable",props:["data"],emits:["update"],setup(N,{emit:_}){const I=N,S=_;E(I,(l,t)=>{B.value=l.data,P.value=[...B.value]});const{isModalOpen:j,openModal:V,header:v,context:Y}=ue(),{toasts:h,addToast:U}=se(),R=te(),B=p([]),P=p([]),M=p(null),A=p("p-4 py-2 my-2 rounded-full border-none dark:border-violet-500/50 border-1 bg-blue-500 dark:bg-violet-600 text-white"),C=p("p-4 py-2 my-2 rounded-full border-none bg-gray-200 dark:bg-[#261953]"),d=p("request_date"),o=p("asc"),a=p(1),b=p(10),O=[10,20,50,100],z=T(()=>d.value?[...P.value].sort((l,t)=>l[d.value]<t[d.value]?o.value==="asc"?-1:1:l[d.value]>t[d.value]?o.value==="asc"?1:-1:0):B.value),F=T(()=>{const l=(a.value-1)*b.value;return z.value.slice(l,l+b.value)}),f=T(()=>Math.ceil(z.value.length/b.value)),w=l=>{l>=1&&l<=f.value&&(a.value=l)},W=l=>{b.value=parseInt(l,10),a.value=1,q.value=!1},J=T(()=>{const l=Math.max(2,a.value-2);return Array.from({length:Math.max(0,a.value-l)},(t,r)=>l+r)}),K=T(()=>{const l=Math.min(f.value-1,a.value+2);return Array.from({length:Math.max(0,l-a.value)},(t,r)=>a.value+r+1)}),$=l=>{d.value===l?o.value=o.value==="asc"?"desc":"asc":(d.value=l,o.value="asc")},q=p(!1);function Q(){q.value=!q.value}function X(l,t,r){V(l,t),M.value=r}function Z(){j.value=!1,M.value=null}function ee(){j.value=!1,R.submitAction(M.value).then(()=>{S("update")}),M.value=null}return(l,t)=>(s(),n(y,null,[g(ce,{"is-open":i(j),onClose:Z,onSubmit:ee,header:i(v),context:`${i(Y)} arzasyny tassyklaýarsyňyzmy?`},null,8,["is-open","header","context"]),e("div",rt,[e("div",ot,[e("div",st,[e("div",at,[e("div",lt,[e("div",null,[e("button",{onClick:Q,type:"button",class:"inline-flex transition duration-200 ease-in w-full justify-center rounded-md border border-gray-300 dark:border-gray-800 bg-white dark:bg-[#171131ef] dark:text-gray-200 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 dark:hover:bg-[#32237cef] focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-[#32237cef] focus:ring-offset-2 focus:ring-offset-gray-100 dark:focus:ring-offset-[#32237cef] select-none"}," Setir sany: "+u(b.value),1)]),g(ie,{name:"fade-scale",onBeforeEnter:t[0]||(t[0]=r=>r.style.display="block"),onAfterLeave:t[1]||(t[1]=r=>r.style.display="none")},{default:k(()=>[ne(e("div",nt,[e("div",dt,[(s(),n(y,null,H(O,r=>e("button",{key:r,value:r,onClick:x=>W(r),class:"w-full text-start text-gray-700 dark:text-gray-200 block px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-[#32237cef] select-none"},u(r)+" setir ",9,it)),64))])],512),[[de,q.value]])]),_:1})])]),t[10]||(t[10]=e("div",null,[e("h4",{class:"font-bold select-none"},"TALAPLAR")],-1))])]),e("div",ut,[e("table",ct,[e("thead",vt,[e("tr",null,[t[15]||(t[15]=e("th",{class:"border-y border-gray-300 dark:border-[#171131ef] p-3 select-none text-left text-[0.8rem]"}," T/B ",-1)),e("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[2]||(t[2]=r=>$("sender"))},[t[11]||(t[11]=D(" UGRADYJY ")),e("span",{class:c([d.value==="sender"?o.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),e("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[3]||(t[3]=r=>$("simple_diploma_count"))},[t[12]||(t[12]=D(" ADATY DIPLOM SANY ")),e("span",{class:c([d.value==="simple_diploma_count"?o.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),e("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[4]||(t[4]=r=>$("honor_diploma_count"))},[t[13]||(t[13]=D(' "TAPAWUTLANAN" DIPLOM SANY ')),e("span",{class:c([d.value==="honor_diploma_count"?o.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),e("th",{class:"transition duration-200 ease-in border-y border-gray-300 dark:border-[#171131ef] dark:hover:bg-[#32237cef] p-3 select-none cursor-pointer hover:bg-gray-300 text-left text-[0.8rem]",onClick:t[5]||(t[5]=r=>$("request_date"))},[t[14]||(t[14]=D(" WAGTY ")),e("span",{class:c([d.value==="request_date"?o.value==="asc"?"rotate-180":"":"opacity-50","ml-2 transition-transform duration-200 inline-block"])}," ▲ ",2)]),t[16]||(t[16]=e("th",{class:"border-y border-gray-300 dark:border-[#171131ef] p-3 select-none text-center text-[0.8rem]"}," GURALLAR ",-1))])]),e("tbody",null,[(s(!0),n(y,null,H(F.value,(r,x)=>(s(),n("tr",{key:r.id,class:"transition ease-in hover:ease-out duration-200 hover:bg-gray-100 dark:hover:bg-[#261953]"},[e("td",gt,u(x+1),1),e("td",pt,u(r.sender),1),e("td",bt,u(r.simple_diploma_count),1),e("td",ft,u(r.honor_diploma_count),1),e("td",mt,u(r.request_date),1),e("td",kt,[r.verdict==="C"?(s(),n("div",yt,t[17]||(t[17]=[e("div",{class:"inline-flex rounded-md shadow-xs",role:"group"},[e("div",{class:"px-4 py-2 text-[0.8rem] font-medium bg-emerald-600 transition ease-in hover:ease-out duration-200 text-white dark:bg-emerald-700 border border-gray-200 rounded-lg dark:border-gray-700 select-none"}," Tassyklandy ")],-1)]))):(s(),n("div",ht,[e("div",wt,[e("button",{type:"button",onClick:ve=>X("Tassyklamak",r.sender,r.id),class:"px-4 py-2 text-[0.8rem] font-medium bg-emerald-400 hover:bg-emerald-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-emerald-700 border border-gray-200 rounded-lg focus:z-10 focus:ring-2 focus:ring-emerald-500 dark:border-gray-700 select-none"}," Tassyklamak ",8,xt)])]))])]))),128))])])])]),e("div",_t,[a.value!==1?(s(),n("button",{key:0,class:c(["select-none",A.value]),onClick:t[6]||(t[6]=r=>w(a.value-1))},t[18]||(t[18]=[e("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M13 8L9 12M9 12L13 16M9 12H21M19.4845 7C17.8699 4.58803 15.1204 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C15.1204 21 17.8699 19.412 19.4845 17",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2)):m("",!0),a.value>3?(s(),n("button",{key:1,class:c(["select-none",C.value]),onClick:t[7]||(t[7]=r=>w(1))}," 1 ",2)):m("",!0),a.value>4?(s(),n("span",Vt,"...")):m("",!0),(s(!0),n(y,null,H(J.value,r=>(s(),n("button",{class:c(["select-none",C.value]),key:"before-"+r,onClick:x=>w(r)},u(r),11,Mt))),128)),f.value!==0?(s(),n("button",{key:3,class:c(["select-none",A.value])},u(a.value),3)):m("",!0),(s(!0),n(y,null,H(K.value,r=>(s(),n("button",{class:c(["select-none",C.value]),key:"after-"+r,onClick:x=>w(r)},u(r),11,Ct))),128)),a.value<f.value-3?(s(),n("span",$t,"...")):m("",!0),a.value<f.value-2?(s(),n("button",{key:5,class:c(C.value),onClick:t[8]||(t[8]=r=>w(f.value))},u(f.value),3)):m("",!0),a.value!==f.value&&f.value!==0?(s(),n("button",{key:6,class:c(["select-none",A.value]),onClick:t[9]||(t[9]=r=>w(a.value+1))},t[19]||(t[19]=[e("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M11 16L15 12M15 12L11 8M15 12H3M4.51555 17C6.13007 19.412 8.87958 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C8.87958 3 6.13007 4.58803 4.51555 7",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2)):m("",!0)]),(s(),G(oe,{to:"body"},[e("div",Ht,[g(re,{name:"toast"},{default:k(()=>[(s(!0),n(y,null,H(i(h),r=>(s(),G(ae,{key:r.id,message:r.message,type:r.type,duration:r.duration,onClose:()=>h.value=i(h).filter(x=>x.id!==r.id)},null,8,["message","type","duration","onClose"]))),128))]),_:1})])]))],64))}},Dt=le(At,[["__scopeId","data-v-8fbab134"]]),Tt={class:"grid md:grid-cols-4 sm:grid-cols-2 gap-8"},jt={class:"bg-white dark:bg-[#171131ef] shadow-md rounded-lg flex justify-between items-center p-4 md:col-span-2 sm:col-span-1"},Bt={key:0,class:"mt-2 select-none font-bold text-lg"},Pt={key:1,class:"mt-2 select-none"},qt={class:"text-base"},St={class:"font-bold text-lg"},Rt={class:"tile md:col-span-2 sm:col-span-1"},Lt={key:0,class:"flex justify-center"},It={key:1,class:"mt-4 flex justify-center"},Yt={key:2,class:"mt-4 flex justify-center"},Gt={class:"tile md:col-span-4 sm:col-span-2"},Ot={class:"invalid-feedback select-none text-red-500 my-2 text-sm"},zt={class:"flex flex-wrap justify-center md:justify-end lg:justify-end"},Nt=["disabled"],Ut={key:0,class:"text-center text-red-500 mt-3 mb-0 text-sm select-none"},Et={key:0},Ft={class:"mt-8"},Wt={class:"mt-8"},Jt={class:"toast-container w-5/6 fixed top-25 md:top-auto md:bottom-5 right-5 md:w-1/4 flex flex-col-reverse space-y-2"},ar={__name:"ViewDiplomaRequest",setup(N){const _=me(),{toasts:I,addToast:S}=se(),j=ge(),V=te(),{diplomaRequestAdvanced:v,highSchoolDiplomaActions:Y,submitStatus:h,updateStatus:U}=pe(V),R=p(null),B=we().shape({allowed_until:xe()});be(()=>{V.getDiplomaRequestAdvancedById(_.params.id).then(()=>{console.log(v.value.allowed_until);let d=new Date(v.value.allowed_until);d.setHours(d.getHours()+5),R.value=d.toISOString().slice(0,16),console.log(R.value)}),V.getHighSchoolActions(_.params.id),j.fetchUser()});function P(){V.getDiplomaRequestAdvancedById(_.params.id),V.getHighSchoolActions(_.params.id)}function M(d,{setErrors:o}){const{allowed_until:a}=d;return V.put(_.params.id,{allowed_until:a}).catch(b=>o({apiError:b}))}E(h,d=>{h.value&&(h.value==="success"?S("Hasabat üstünlikli tassyklandy","success"):h.value==="error"&&S("Tassyklama prosesinde ýalňyşlyk ýüze çykdy","error")),h.value=null}),E(U,(d,o)=>{d&&(d==="success"?S("Hasabat üstünlikli üýtgedildi","success"):d==="error"&&S("Üýtgetme prosesinde ýalňyşlyk ýüze çykdy","error")),U.value=null});function A(d,o){V.giveVerdictDiplomaRequest(d,o).then(()=>{P()})}const C=[{path:"/diplomas",name:"Diplomlar"},{path:"/diplomas/view",name:"Görmek",current:!0}];return(d,o)=>(s(),n(y,null,[g(_e,{paths:C}),e("div",Tt,[g(L,{label:"Başdaky talap edilen diplom sany","custom-classes":"md:col-span-2 sm:col-span-1","data-value":i(v).original_requested_quantity,"icon-bg-class":"bg-green-200 dark:bg-green-500/75"},{default:k(()=>o[3]||(o[3]=[e("svg",{class:"w-6 stroke-green-500 dark:stroke-green-900",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{"clip-path":"url(#clip0_901_948)"},[e("path",{d:"M21 28V2C21 1.447 20.553 1 20 1H2C1.447 1 1 1.447 1 2V31H8V25H14V31H31V8C31 8 31 7 30 7H24M16 6V8M26 12V14M26 18V20M11 6V8M6 6V8M16 12V14M11 12V14M6 12V14M16 18V20M11 18V20M6 18V20","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]),e("defs",null,[e("clipPath",{id:"clip0_901_948"},[e("rect",{width:"32",height:"32",fill:"white"})])])],-1)])),_:1},8,["data-value"]),e("div",jt,[e("div",null,[o[4]||(o[4]=e("div",{class:"text-sm my-2 select-none"}," Umumy talap edilen diplom sany ",-1)),i(v).original_requested_quantity===i(v).total_requested_quantity?(s(),n("div",Bt,u(i(v).total_requested_quantity),1)):(s(),n("div",Pt,[e("span",qt,u(i(v).original_requested_quantity)+" + "+u(i(v).total_requested_quantity-i(v).original_requested_quantity)+" = ",1),e("span",St,u(i(v).total_requested_quantity),1)]))]),o[5]||(o[5]=fe('<div><div class="w-12 h-12 rounded-full flex justify-center items-center bg-green-200 dark:bg-green-500/75"><svg class="w-6 stroke-green-500 dark:stroke-green-900" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_901_948)"><path d="M21 28V2C21 1.447 20.553 1 20 1H2C1.447 1 1 1.447 1 2V31H8V25H14V31H31V8C31 8 31 7 30 7H24M16 6V8M26 12V14M26 18V20M11 6V8M6 6V8M16 12V14M11 12V14M6 12V14M16 18V20M11 18V20M6 18V20" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_901_948"><rect width="32" height="32" fill="white"></rect></clipPath></defs></svg></div></div>',1))]),g(L,{label:'"Tapawutlanan" diplom sany',"custom-classes":"md:col-span-2 sm:col-span-1","data-value":i(v).honor_diplomas_quantity,"icon-bg-class":"bg-green-200 dark:bg-green-500/75"},{default:k(()=>o[6]||(o[6]=[e("svg",{class:"w-6 stroke-green-500 dark:stroke-green-900",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{"clip-path":"url(#clip0_901_948)"},[e("path",{d:"M21 28V2C21 1.447 20.553 1 20 1H2C1.447 1 1 1.447 1 2V31H8V25H14V31H31V8C31 8 31 7 30 7H24M16 6V8M26 12V14M26 18V20M11 6V8M6 6V8M16 12V14M11 12V14M6 12V14M16 18V20M11 18V20M6 18V20","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]),e("defs",null,[e("clipPath",{id:"clip0_901_948"},[e("rect",{width:"32",height:"32",fill:"white"})])])],-1)])),_:1},8,["data-value"]),g(L,{label:"Adaty diplom sany","custom-classes":"md:col-span-2 sm:col-span-1","data-value":i(v).simple_diplomas_quantity,"icon-bg-class":"bg-green-200 dark:bg-green-500/75"},{default:k(()=>o[7]||(o[7]=[e("svg",{class:"w-6 stroke-green-500 dark:stroke-green-900",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{"clip-path":"url(#clip0_901_948)"},[e("path",{d:"M21 28V2C21 1.447 20.553 1 20 1H2C1.447 1 1 1.447 1 2V31H8V25H14V31H31V8C31 8 31 7 30 7H24M16 6V8M26 12V14M26 18V20M11 6V8M6 6V8M16 12V14M11 12V14M6 12V14M16 18V20M11 18V20M6 18V20","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]),e("defs",null,[e("clipPath",{id:"clip0_901_948"},[e("rect",{width:"32",height:"32",fill:"white"})])])],-1)])),_:1},8,["data-value"]),g(L,{label:"Iki ýyl iş","data-value":i(v).two_year_work_off,"icon-bg-class":"bg-green-200 dark:bg-green-500/75"},{default:k(()=>o[8]||(o[8]=[e("svg",{class:"w-6 stroke-green-500 dark:stroke-green-900",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{"clip-path":"url(#clip0_901_948)"},[e("path",{d:"M21 28V2C21 1.447 20.553 1 20 1H2C1.447 1 1 1.447 1 2V31H8V25H14V31H31V8C31 8 31 7 30 7H24M16 6V8M26 12V14M26 18V20M11 6V8M6 6V8M16 12V14M11 12V14M6 12V14M16 18V20M11 18V20M6 18V20","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]),e("defs",null,[e("clipPath",{id:"clip0_901_948"},[e("rect",{width:"32",height:"32",fill:"white"})])])],-1)])),_:1},8,["data-value"]),g(L,{label:"Ýogalan","data-value":i(v).died,"icon-bg-class":"bg-green-200 dark:bg-green-500/75"},{default:k(()=>o[9]||(o[9]=[e("svg",{class:"w-6 stroke-green-500 dark:stroke-green-900",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{"clip-path":"url(#clip0_901_948)"},[e("path",{d:"M21 28V2C21 1.447 20.553 1 20 1H2C1.447 1 1 1.447 1 2V31H8V25H14V31H31V8C31 8 31 7 30 7H24M16 6V8M26 12V14M26 18V20M11 6V8M6 6V8M16 12V14M11 12V14M6 12V14M16 18V20M11 18V20M6 18V20","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]),e("defs",null,[e("clipPath",{id:"clip0_901_948"},[e("rect",{width:"32",height:"32",fill:"white"})])])],-1)])),_:1},8,["data-value"]),g(L,{label:"Daşary ýurda giden","data-value":i(v).went_abroad,"icon-bg-class":"bg-green-200 dark:bg-green-500/75"},{default:k(()=>o[10]||(o[10]=[e("svg",{class:"w-6 stroke-green-500 dark:stroke-green-900",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{"clip-path":"url(#clip0_901_948)"},[e("path",{d:"M21 28V2C21 1.447 20.553 1 20 1H2C1.447 1 1 1.447 1 2V31H8V25H14V31H31V8C31 8 31 7 30 7H24M16 6V8M26 12V14M26 18V20M11 6V8M6 6V8M16 12V14M11 12V14M6 12V14M16 18V20M11 18V20M6 18V20","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]),e("defs",null,[e("clipPath",{id:"clip0_901_948"},[e("rect",{width:"32",height:"32",fill:"white"})])])],-1)])),_:1},8,["data-value"]),g(L,{label:"Gaýry sebäpler","data-value":i(v).other_reasons,"icon-bg-class":"bg-green-200 dark:bg-green-500/75"},{default:k(()=>o[11]||(o[11]=[e("svg",{class:"w-6 stroke-green-500 dark:stroke-green-900",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{"clip-path":"url(#clip0_901_948)"},[e("path",{d:"M21 28V2C21 1.447 20.553 1 20 1H2C1.447 1 1 1.447 1 2V31H8V25H14V31H31V8C31 8 31 7 30 7H24M16 6V8M26 12V14M26 18V20M11 6V8M6 6V8M16 12V14M11 12V14M6 12V14M16 18V20M11 18V20M6 18V20","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]),e("defs",null,[e("clipPath",{id:"clip0_901_948"},[e("rect",{width:"32",height:"32",fill:"white"})])])],-1)])),_:1},8,["data-value"]),g(L,{label:"Ätiýaçdaky diplomlar","custom-classes":"md:col-span-2 sm:col-span-1","data-value":i(v).spare_diplomas,"icon-bg-class":"bg-green-200 dark:bg-green-500/75"},{default:k(()=>o[12]||(o[12]=[e("svg",{class:"w-6 stroke-green-500 dark:stroke-green-900",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{"clip-path":"url(#clip0_901_948)"},[e("path",{d:"M21 28V2C21 1.447 20.553 1 20 1H2C1.447 1 1 1.447 1 2V31H8V25H14V31H31V8C31 8 31 7 30 7H24M16 6V8M26 12V14M26 18V20M11 6V8M6 6V8M16 12V14M11 12V14M6 12V14M16 18V20M11 18V20M6 18V20","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]),e("defs",null,[e("clipPath",{id:"clip0_901_948"},[e("rect",{width:"32",height:"32",fill:"white"})])])],-1)])),_:1},8,["data-value"]),e("div",Rt,[i(v).verdict?i(v).verdict==="C"?(s(),n("div",It,o[13]||(o[13]=[e("div",null,[e("h4",{class:"px-4 py-2 text-[0.8rem] w-max font-medium bg-emerald-400 hover:bg-emerald-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-emerald-700 border border-gray-200 dark:border-gray-700 rounded-lg select-none"}," Tassyklanyldy ")],-1)]))):i(v).verdict==="R"?(s(),n("div",Yt,o[14]||(o[14]=[e("h4",{class:"px-4 py-2 text-[0.8rem] w-max font-medium bg-red-400 hover:bg-red-500 transition ease-in hover:ease-out duration-200 text-white dark:bg-pink-900 dark:hover:bg-pink-600 border border-gray-200 rounded-lg dark:border-gray-700 select-none"}," Ret edildi ",-1)]))):m("",!0):(s(),n("div",Lt,[g(Ve,{onSubmitClick:o[0]||(o[0]=a=>A(i(_).params.id,"C")),onRejectClick:o[1]||(o[1]=a=>A(i(_).params.id,"R"))})]))]),e("div",Gt,[g(i(he),{onSubmit:M,"validation-schema":i(B),class:"space-y-4 my-4"},{default:k(({errors:a,isSubmitting:b})=>[e("div",null,[o[15]||(o[15]=e("label",{for:"allowingDate",class:"info-label"},"Hasabat kabul ediş möhleti",-1)),g(i(ye),{name:"allowed_until",type:"datetime-local",id:"allowingDate",modelValue:R.value,"onUpdate:modelValue":o[2]||(o[2]=O=>R.value=O),class:c(["w-full dark:text-gray-300 bg-transparent px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:ring focus:ring-blue-200 focus:outline-none",{"is-invalid":a.birth_date}]),placeholder:"Doglan senesi"},null,8,["modelValue","class"]),e("div",Ot,u(a.allowed_until),1)]),e("div",zt,[e("button",{disabled:b,class:"flex w-50 px-4 py-2 my-2 justify-center rounded-lg border-none dark:border-violet-500/50 border-1 bg-gradient-to-r from-blue-400 to-blue-500 dark:from-violet-600 dark:to-violet-500 text-white hover:shadow-lg hover:shadow-blue-300/50 hover:ease-in ease-out duration-200 dark:hover:shadow-violet-500/50"},[g(ke,{class:c({hidden:!b})},null,8,["class"]),e("span",{class:c({hidden:b})},"Üýtget",2)],8,Nt)]),a.apiError?(s(),n("div",Ut,u(a.apiError),1)):m("",!0)]),_:1},8,["validation-schema"])])]),i(v).verdict==="C"?(s(),n("div",Et,[e("div",Ft,[g(tt,{onUpdate:P,data:i(Y).reports},null,8,["data"])]),e("div",Wt,[g(Dt,{onUpdate:P,data:i(Y).actions},null,8,["data"])])])):m("",!0),(s(),G(oe,{to:"body"},[e("div",Jt,[g(re,{name:"toast"},{default:k(()=>[(s(!0),n(y,null,H(i(I),a=>(s(),G(ae,{key:a.id,message:a.message,type:a.type,duration:a.duration,onClose:()=>I.value=i(I).filter(b=>b.id!==a.id)},null,8,["message","type","duration","onClose"]))),128))]),_:1})])]))],64))}};export{ar as default};
